var PageDefault=function(){function e(e){this.dd=e,this.placeholder=this.dd.children("label.option-toggle"),this.optionalPlaceHolder={},this.optsList=this.dd.find(".options > ul > li"),this.opts=this.dd.find(".options > ul > li > a"),this.title=this.dd.data("title"),this.val="",this.index=-1,this.initEvents()}var a=function(){if(!window.distributionMode)return!1;var e=!1;window.win.on("maximize",function(){window.win.isMaximized=!0}),window.win.on("unmaximize",function(){window.win.isMaximized=!1}),document.getElementById("WindowControlMinimize").onclick=function(){window.win.minimize()},document.getElementById("WindowControlResize").onclick=function(){e?(window.win.unmaximize(),e=!1):(window.win.maximize(),e=!0)},document.getElementById("menu_WindowControlClose").onclick=function(){window.win.close()},document.getElementById("WindowControlClose").onclick=function(){window.win.close()}},t=function(){$('[data-toggle="tooltip"]').tooltip()};e.prototype={initEvents:function(){var e=this;e.dd.on("click",function(a){return e.dd.toggleClass("active"),!1}),e.opts.on("click",function(a){var t=$(this);e.val=t.parent().attr("class").split(" ")[0],e.index=t.index(),e.placeholder.html(e.spesificIndex(e.val).text()+(e.optionalPlaceHolder.hasOwnProperty(e.val)?" "+e.optionalPlaceHolder[e.val]:""))}),document.onclick=function(a){e.dd.removeClass("active")}},changeTab:function(e,a){var t=this;t.optsList.hasClass(e)&&(t.val=e,t.placeholder.html(t.spesificIndex(e).text()+(t.optionalPlaceHolder.hasOwnProperty(e)?" "+t.optionalPlaceHolder[e]:""))),a()},spesificIndex:function(e){return this.dd.find("> .options ul li."+e+" a")},changeOptionalPlaceholder:function(e,a){var t=this;t.optsList.hasClass(e)&&(t.optionalPlaceHolder[e]=a,t.placeholder.html(t.spesificIndex(e).text()+(t.optionalPlaceHolder.hasOwnProperty(e)?" "+t.optionalPlaceHolder[e]:"")))},getValue:function(){return this.val},getIndex:function(){return this.index},destroy:function(){this.dd.remove()}};var n=function(){$('#toolbox a[data-toggle="tab"]').on("click",function(e){$(this).tab("show")})},r=function(){$('#output a[data-toggle="tab"]').on("click",function(e){$(this).tab("show")})},i=function(){$(".loading-anim").hide()},s=function(){$(".toggleNavMenu").click(function(){var e=$(".nav-menu"),a=$(".hl-nav");e.toggleClass("nav-push"),a.toggleClass("nav-push")})};return{init:function(){a(),t(),i(),s(),n(),r()},DropDown:e}}(),TourCore=function(){function e(e){N=$(".cd-tour-wrapper:eq(0)"),E=N.children("li"),v=E.length,L=$(".cd-cover-layer"),O=$(".cd-more-info"),A($(".cd-tour-wrapper")),N.length&&d(e)}function a(){$(".cd-tour-wrapper").length&&$(".cd-tour-wrapper").remove()}function t(e){N=$(".cd-tour-wrapper#"+e),E=N.children("li"),stepsNummber=E.length,N.length&&(u(),m())}function n(e){localStorage.setItem("tour-skip",1==e)}function r(){return null!=localStorage.getItem("tour-skip")&&"true"==localStorage.getItem("tour-skip")}function i(){C.append(y),y.addClass("dialog--open"),y.find(".cd-dialog-close").on("click",function(){n(y.find('input[type="checkbox"]').prop("checked")),s()}),y.find(".cd-dialog-confirm").on("click",function(){n(y.find('input[type="checkbox"]').prop("checked")),y.removeClass("dialog--open"),y.remove(),m()})}function s(){y.removeClass("dialog--open"),y.addClass("dialog--close"),y.one("webkitAnimationEnd animationend",function(){y.removeClass("dialog--close"),y.remove(),g()})}function o(){C.append(menuDialog),menuDialog.find("ul>li").remove(),$(".cd-tour-wrapper").each(function(e){menuDialog.find("ul").append($("<li/>",{class:"list-group-item","data-wrapperid":$(this).data("wrapperid")}).text($(this).data("text")).on("click",function(){menuDialog.removeClass("dialog--open"),menuDialog.remove(),t($(this).data("wrapperid"))}))}),menuDialog.addClass("dialog--open"),menuDialog.find(".cd-dialog-close").on("click",l)}function l(){menuDialog.removeClass("dialog--open"),menuDialog.addClass("dialog--close"),menuDialog.one("webkitAnimationEnd animationend",function(){menuDialog.removeClass("dialog--close"),menuDialog.remove(),g()})}function c(e){window.rating.addCategoryScore("tour-"+e),C.append(endDialog),endDialog.addClass("dialog--open"),endDialog.find(".cd-dialog-close").on("click",p)}function p(){endDialog.removeClass("dialog--open"),endDialog.addClass("dialog--close"),endDialog.one("webkitAnimationEnd animationend",function(){endDialog.removeClass("dialog--close"),endDialog.remove(),g()})}function d(e){if(0==k){var a=r();1==e?(a||1==u()&&i(),$("#cd-inittour-trigger").on("click",function(){1==u()&&o()})):$("#cd-inittour-trigger").on("click",function(){1==u()&&m()})}}function u(){return 0==k&&(k=!0,$("#cd-inittour-trigger").addClass("clicked"),!0)}function g(){k=!1,$("#cd-inittour-trigger").removeClass("clicked")}function m(){N.hasClass("active")||(N.addClass("active"),b(E.eq(0),L)),O.on("click",".cd-prev",function(e){!$(e.target).hasClass("inactive")&&I(E,L,"prev"),e.preventDefault()}),O.on("click",".cd-next",function(e){!$(e.target).hasClass("inactive")&&I(E,L,"next"),e.preventDefault()}),O.on("click",".cd-close",function(e){T(E,N,L),e.preventDefault()}),$(document).keyup(function(e){"37"!=e.which||E.filter(".is-selected").find(".cd-prev").hasClass("inactive")?"39"!=e.which||E.filter(".is-selected").find(".cd-next").hasClass("inactive")?"27"==e.which&&T(E,N,L):I(E,L,"next"):I(E,L,"prev")})}function A(e){$(e).each(function(e){var a=$(this).children("li"),t=a.length,n='<div class="cd-nav"><span><b class="cd-actual-step">1</b>/'+t+'</span><ul class="cd-tour-nav"><li><a href="#0" class="cd-prev">&#171; Kembali</a></li><li><a href="#0" class="cd-next">Selanjutnya &#187;</a></li></ul></div><a href="#0" class="cd-close">Close</a>';a.each(function(e){var a=$(this),t=e+1,r=1==t?"inactive":"";a.children(".cd-more-info").children("h2").text("Langkah "+x[t]),$(n).find(".cd-next").end().find(".cd-prev").addClass(r).end().find(".cd-actual-step").html(t).end().appendTo(a.children(".cd-more-info"))})})}function R(e,a,t){G=a,$(e).addClass("eventClassDemo"),$(".eventClassDemo").on(G,t)}function f(){null!=G&&($(".eventClassDemo").off(G),$(".eventClassDemo").removeClass("eventClassDemo"),G=null)}function b(e,a){if(e.addClass("is-selected").removeClass("move-left"),h(a),null==e.data("condition")||"disabled"!=e.data("condition")){e.find(".cd-more-info > .cd-nav a.cd-next").addClass("inactive");e.data("selector");R(e.data("selector"),e.data("condition"),function(){$(e.data("selector")).off(e.data("condition")),I(E,L,"next")})}else"disabled"!=e.data("condition")&&e.find(".cd-more-info > .cd-nav a.cd-next").removeClass("inactive")}function h(e){e.addClass("is-visible").on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){e.removeClass("is-visible")})}function I(e,a,t){var n=e.filter(".is-selected");n.removeClass("is-selected"),"next"==t&&n.addClass("move-left"),f();var r=e.parent().attr("id");!function(){"next"==t?0==n.next().length?c(r):b(n.next(),a):b(n.prev(),a)}()}function T(e,a,t){f(),e.removeClass("is-selected move-left"),a.removeClass("active"),t.removeClass("is-visible"),g()}var N,E,v,L,O,k=!1,x=["","pertama","kedua","ketiga","keempat","kelima","keenam","keenam","ketujuh","kedelapan","kesembilan","kesepuluh","kesebelas","keduabelas","ketigabelas","keempatbelas"],C=$("#page .main-wrap"),y=$("<div/>",{id:"somedialog",class:"dialog"}).append($("<div/>",{class:"dialog__overlay"})).append($("<div/>",{class:"dialog__content"}).append($("<h2/>",{style:"padding-bottom:1em"}).html("Ikuti <b>Tur Singkat</b> Menggunakan Freshkode")).append($("<p/>").text('Tur singkat ini dapat membantu Anda menggunakan freshkode. Bila anda ingin mencegah pesan ini muncul di kemudian waktu, tandai centang di bawah dan pilih tombol "Lewati Tur"')).append($("<p/>").html('Anda dapat membuka menu tur kembali dengan menekan ikon <i class="fa fa-question-circle" id="cd-inittour-trigger"></i> pada bagian kanan atas window ini')).append($("<div/>").html('<button id="cd-tour-trigger" class="btn btn-primary cd-dialog-confirm">Mulai Tur</button> <button class="btn cd-dialog-close">Lewati Tur</button>')).append($('<div style="margin-top:10px"/>').html('<input type="checkbox"> Cegah dialog ini muncul</input>')).append($("<a/>",{class:"cd-close cd-dialog-close"}).text("close")));menuDialog=$("<div/>",{id:"somedialog",class:"dialog"}).append($("<div/>",{class:"dialog__overlay"})).append($("<div/>",{class:"dialog__content"}).append($("<h2/>",{style:"padding-bottom:1em"}).html("Selamat datang di <b>Tur Singkat</b> Freshkode")).append($("<p/>").text("Tur ini akan membantu anda untuk memahami penggunaan Freshkode. Silahkan pilih panduan yang diinginkan :")).append($("<div/>",{class:"panel panel-defaul"}).append($("<ul/>",{class:"list-group"}))).append($("<a/>",{class:"cd-close cd-dialog-close"}).text("close"))),endDialog=$("<div/>",{id:"somedialog",class:"dialog"}).append($("<div/>",{class:"dialog__overlay"})).append($("<div/>",{class:"dialog__content"}).append($("<h2/>",{style:"padding-bottom:1em"}).html("Selamat, Anda sudah dapat megoperasikan perintah dasar freshkode")).append($("<p/>").text("Anda dapat membuka menu Tur kembali untuk melihat demo-demo yang lainnya.")).append($("<div/>").html('<button class="btn cd-dialog-close">Tutup</button>')).append($("<a/>",{class:"cd-close cd-dialog-close"}).text("close")));var G=null;this.init=function(a){e(a)},this.destroy=function(){a()}},RatingCore=function(){this.addCategoryScore=function(e){switch(e){case"tour-basic-operation":"null"==localStorage.getItem("rated-tour1")&&(localStorage.setItem("rated-tour1",!0),this.addScore(30));break;case"tour-using-variable":"null"==localStorage.getItem("rated-tour2")&&(localStorage.setItem("rated-tour2",!0),this.addScore(40));break;case"tour-using-operator":"null"==localStorage.getItem("rated-tour3")&&(localStorage.setItem("rated-tour3",!0),this.addScore(70));break;case"tour-using-condition":"null"==localStorage.getItem("rated-tour4")&&(localStorage.setItem("rated-tour4",!0),this.addScore(90))}},this.lastScore=0,this.addScore=function(e){e>0&&($(".programmerRating > #scoreplus2").text("+"+e),$(".programmerRating > #scoreplus2").show().delay(2e3).fadeOut()),this.lastScore=e,localStorage.setItem("programmer-score",this.getScore()+e),this.getStarsElmUpdate($(".programmerRating"))},this.restoreScore=function(){this.lastScore>0&&($(".programmerRating > #scoreplus1").text("-"+this.lastScore),$(".programmerRating > #scoreplus1").show().delay(2e3).fadeOut()),localStorage.setItem("programmer-score",this.getScore()-this.lastScore),this.getStarsElmUpdate($(".programmerRating"))},this.resetScore=function(e){localStorage.setItem("programmer-score",0),localStorage.setItem("rated-tour1",null),localStorage.setItem("rated-tour2",null),localStorage.setItem("rated-tour3",null),localStorage.setItem("rated-tour4",null),this.getStarsElmUpdate($(".programmerRating"))},this.getScore=function(){return null!=localStorage.getItem("programmer-score")?parseInt(localStorage.getItem("programmer-score")):0},this.getStars=function(){var e=this.getScore();return e<100?0:e<200?1:e<300?2:e<400?3:e<600?4:e<1e3?5:6},this.getStarsElmUpdate=function(e){var a=this.getStars(),t=$(e).children("a"),n=$(e).children("ul");t.children("i").each(function(){$(this).attr("class","fa fa-star-o")}),t.children("i:lt("+a+")").each(function(){$(this).attr("class","fa fa-star")}),n.children().first().children("span").text(a),n.children("li:eq(1)").find("span").text(this.getScore())}},ValidateToken=function(){return{matchExprValInteger:function(e){return e.match(/^(\-{0,1}[0-9]+)$/gi)},matchExprValReal:function(e){return e.match(/^(\-{0,1}[0-9]+.[0-9]+)$/gi)},matchExprValLogical:function(e){return e.match(/^(true|false)$/gi)},matchExprValString:function(e){return e.match(/^([\x00-\x7F])*$/)}}}(),controlVariable=function(){function e(e){switch(e.type){case"integer":return parseInt(e.value);case"real":return parseFloat(e.value);case"logical":return Boolean(e.value);case"string":return String(e.value)}}function a(e){if(void 0!==e.name&&void 0!==e.type&&!l.hasOwnProperty(e.name)){var a;switch(e.type){case"integer":a=parseInt(0);break;case"real":a=parseFloat(0);break;case"logical":a=!1;break;case"string":a=String("");break;case"default":return}return l[e.name]={type:e.type,value:a},$.extend(l[e.name],{id:e.name,name:e.name})}}function t(a){if(void 0===a.name||void 0===a.value)return!1;if(void 0===l[a.name])return!1;switch(l[a.name].type){case"integer":if(!ValidateToken.matchExprValInteger(a.value.toString()))return!1;break;case"real":if(!ValidateToken.matchExprValReal(a.value.toString()))return!1;break;case"logical":if(!ValidateToken.matchExprValLogical(a.value.toString()))return!1;break;case"string":if(!ValidateToken.matchExprValString(a.value.toString()))return!1;break;case"default":return!1}return l[a.name].value=e({type:l[a.name].type,value:a.value}),l[a.name]}function n(e){return void 0!==e&&(void 0!==l[e]&&(delete l[e],!0))}function r(){return Object.keys(l).length}function i(){return{variable:l}}function s(e){l=e}function o(){l={}}var l={};return{declareVariable:a,setVariable:t,delVariable:n,getLenVariable:r,setCode:s,getCode:i,destroy:o}}(),controlArray=function(){function e(e){switch(e.type){case"integer":return parseInt(e.value);case"real":return parseFloat(e.value);case"logical":return Boolean(e.value);case"string":return String(e.value)}}function a(e){if(void 0!==e.name&&void 0!==e.type&&!l.hasOwnProperty(e.name))return l[e.name]={type:e.type,values:[]},$.extend(l[e.name],{id:e.name,name:e.name})}function t(e){return void 0!==e&&(void 0!==l[e]&&(delete l[e],!0))}function n(a){if(void 0!==a.name&&void 0!==a.index&&void 0!==a.value&&void 0!==l[a.name]&&!isNaN(a.index)){switch(l[a.name].type){case"integer":if(!ValidateToken.matchExprValInteger(a.value.toString()))return;break;case"real":if(!ValidateToken.matchExprValReal(a.value.toString()))return;break;case"logical":if(!ValidateToken.matchExprValLogical(a.value.toString()))return;break;case"string":if(!ValidateToken.matchExprValString(a.value.toString()))return;break;case"default":return}return l[a.name].values[a.index]=e({type:l[a.name].type,value:a.value}),l[a.name]}}function r(){return Object.keys(l).length}function i(){return{array:l}}function s(e){l=e}function o(){l={}}var l={};return{declareArray:a,setArray:n,delArray:t,getLenArray:r,getCode:i,setCode:s,destroy:o}}(),parser,Workspace=function(){var e=0,a={gen:[{errorMessage:"Program kosong",autoSolution:"Eksekusi Program Dihentikan",type:"danger"},{errorMessage:"Terdapat statement yang tidak dikenali",autoSolution:"Eksekusi Program Dihentikan",type:"danger"}],var:{nul:[{errorMessage:"Variabel tidak terdefinisi",autoSolution:"Eksekusi Program Dihentikan",type:"danger"}],ini:[{errorMessage:"Variabel tidak di-inisialisasi",autoSolution:"Nilai Variabel Integer telah diberikan: 0",type:"warning"},{errorMessage:"Variabel tidak di-inisialisasi",autoSolution:"Nilai Real Real telah diberikan: 0.0",type:"warning"},{errorMessage:"Variabel tidak di-inisialisasi",autoSolution:"Nilai Variabel Logical telah diberikan: false",type:"warning"},{errorMessage:"Variabel tidak di-inisialisasi",autoSolution:"Nilai Variabel String telah diberikan: string kosong ' '",type:"warning"}]},dat:{mis:[{errorMessage:"Format data tidak sesuai dengan tipe Integer",autoSolution:"Data telah diterjemahkan menjadi nilai: 0",type:"warning"},{errorMessage:"Format data tidak sesuai dengan tipe Real",autoSolution:"Data telah diterjemahkan menjadi nilai: 0.0",type:"warning"},{errorMessage:"Format data tidak sesuai dengan tipe Logical",autoSolution:"Data telah diterjemahkan menjadi nilai: false",type:"warning"},{errorMessage:"Format data tidak sesuai dengan tipe String",autoSolution:"Data telah diterjemahkan menjadi nilai: string kosong ' '",type:"warning"}]},sta:{it0:[{errorMessage:"Iterasi melebihi batas (maksimal 100.000.000)",autoSolution:"Eksekusi Program Dihentikan",type:"danger"}],it2:[{errorMessage:"Argumen variabel kounter pada statement Iterasi2 tidak diisi",autoSolution:"Argumen variabel kounter sementara telah ditambahkan",type:"warning"},{errorMessage:"Langkah iterasi bernilai 0",autoSolution:"Eksekusi Program Dihentikan",type:"danger"}]},exp:{opr:[{errorMessage:"Format opertator (unary/binary/ternary) tidak sesuai",autoSolution:"Eksekusi Program Dihentikan",type:"danger"}],arr:[{errorMessage:"Nilai indeks Array tidak diisi",autoSolution:"Indeks Array yang diakses: Indeks 0",type:"warning"}]}},t={INTEGER:{completeToken:{constIdentifier:"INTEGER-CONSTANT",operationIdentifier:"INTEGER-ARITHMETIC-OPERATION",operation:{2:"INTEGER-BINARY-OPERATION",3:"INTEGER-TERNARY-OPERATION",4:"INTEGER-NARY-OPERATION"},parseConstant:{fn:function(e){return null!=e&&e.toString().match(/^(\-{0,1}[0-9]+)$/gi)?parseInt(e):parseInt(0)}},validConstant:{fn:function(e){return!(null==e||!e.toString().match(/^(\-{0,1}[0-9]+)$/gi))}},defaultConstant:0}},REAL:{completeToken:{constIdentifier:"REAL-CONSTANT",operationIdentifier:"REAL-ARITHMETIC-OPERATION",operation:{2:"REAL-BINARY-OPERATION",3:"REAL-TERNARY-OPERATION",4:"REAL-NARY-OPERATION"},parseConstant:{fn:function(e){return null!=e&&e.toString().match(/^(\-{0,1}[0-9]+.[0-9]+)$/gi)?e:0}},validConstant:{fn:function(e){return!(null==e||!e.toString().match(/^(\-{0,1}[0-9]+.[0-9]+)$/gi))}},defaultConstant:0}},LOGICAL:{completeToken:{constIdentifier:"LOGICAL-CONSTANT",operationIdentifier:"LOGICAL-OPERATION",operation:{1:"LOGICAL-UNARY-OPERATION",2:"LOGICAL-BINARY-OPERATION",3:"LOGICAL-TERNARY-OPERATION",4:"LOGICAL-NARY-OPERATION"},parseConstant:{fn:function(e){return null!=e&&e.toString().match(/^(0|1|true|false)$/gi)?1==e||"true"==e?1:0==e||"false"==e?0:void 0:0}},validConstant:{fn:function(e){return!(null==e||!e.toString().match(/^(0|1|true|false)$/gi))&&(1==e||"true"==e||0!=e&&"false"!=e&&void 0)}},defaultConstant:!1}},RELATIONAL:{completeToken:{constIdentifier:!1,operationIdentifier:"RELATIONAL-OPERATION",operation:{2:"RELATIONAL-BINARY-OPERATION"}}},STRING:{completeToken:{constIdentifier:"STRING-CONSTANT",operationIdentifier:"STRING-OPERATION",operation:{2:"STRING-BINARY-OPERATION",3:"STRING-TERNARY-OPERATION",4:"STRING-NARY-OPERATION"},parseConstant:{fn:function(e){return e?e.toString():""}},validConstant:{fn:function(e){return!!e||""}},defaultConstant:""}}},n=null,r=function(e,a){s(),n=$(e),$(".pre_startprogram").scrollTo($(n),500),$(n).addClass("point-"+a)},s=function(){null!=n&&n.removeClass("point-warning").removeClass("point-danger")},o=function(t,n){if(!t.match(/^(([a-z]|[0-9]){0,3}\.)*([a-z]|[0-9]){0,3}$/gi))return!1;for(var i=a,s=t.split("."),o=0;o<s.length;o++){if(!i[s[o]])return!1;i=i[s[o]]}if(!i.errorMessage)return!1;window.dd2.changeTab("PESANCOM",function(){window.dd2.spesificIndex("PESANCOM").tab("show")}),e++,$("#output section.code-correction").append($("<div/>",{class:"subsection"}).append($("<div/>").append($("<a/>",{class:"label label-"+i.type,href:"javascript:void(0)"}).click(function(){r($(n),i.type)}).text("warning"==i.type?"Peringatan":"Fatal")).append(" "+i.errorMessage)).append(i.autoSolution?$("<small/>").append('<span class="label label-success">solusi</span> ').append(i.autoSolution):"")),$("#compilerMessage").text(e)},l=function(){function e(e){for(var t=[],u=e.children("li"),g=0;g<u.length&&u.eq(g).data("token");g++)switch(u.eq(g).data("token")){case"IF":t.push(a(u.eq(g),!1));break;case"IFELSE":t.push(a(u.eq(g),!0));break;case"ITERATION0":t.push(n(u.eq(g)));break;case"ITERATION1":t.push(r(u.eq(g)));break;case"ITERATION2":t.push(i(u.eq(g),!1));break;case"ITERATION3":t.push(i(u.eq(g),!0));break;case"SETVAR":t.push(l(u.eq(g)));break;case"INCRVAR":t.push(c(u.eq(g),!0));break;case"DECRVAR":t.push(c(u.eq(g),!1));break;case"SETARRVAR":t.push(p(u.eq(g)));break;case"INCRARRVAR":t.push(d(u.eq(g),!0));break;case"DECRARRVAR":t.push(d(u.eq(g),!1));break;case"INPUT":t.push(s(u.eq(g)));break;case"PRINT":t.push(o(u.eq(g),!1));break;case"PRINTLINE":t.push(o(u.eq(g),!0))}return t}function a(a,t){var n={token:t?"IFELSE":"IF",arg:[],subtoken:[]},r=a.find("ol.startexpression:eq(0) > li:eq(0)"),i=a.children("ol.groupstatement:eq(0)"),s=a.children("ol.groupstatement:eq(1)");return"LOGICAL"!=r.data("token").split("-")[0]&&"RELATIONAL"!=r.data("token").split("-")[0]||(n.arg.push(A(r)),i.children("li").length>0&&(n.subtoken[0]=e(i)),s&&s.children("li").length>0&&(n.subtoken[1]=e(s))),r=null,i=null,s=null,n}function n(a){var t={token:"ITERATION0",arg:[],subtoken:[]},n=a.find("ol.startexpression:eq(0) > li:eq(0)"),r=a.children("ol.groupstatement:eq(0)");return n.length&&(t.arg.push(g(n)),r.children("li").length>0&&t.subtoken.push(e(r))),n=null,r=null,t}function r(a){var t={token:"ITERATION1",arg:[],subtoken:[]},n=a.find("ol.startexpression:eq(0) > li:eq(0)"),r=a.children("ol.groupstatement:eq(0)");return"LOGICAL"!=n.data("token").split("-")[0]&&"RELATIONAL"!=n.data("token").split("-")[0]||(t.arg.push(A(n)),r.children("li").length>0&&t.subtoken.push(e(r))),n=null,r=null,t}function i(a,t){var n={token:t?"ITERATION3":"ITERATION2",arg:[],subtoken:[]},r=a.find("ol.startexpression:eq(0) > li:eq(0)"),i=a.find("ol.startexpression:eq(1) > li:eq(0)"),s=a.find("ol.startexpression:eq(2) > li:eq(0)"),o=a.find("ol.startexpression:eq(3) > li:eq(0)"),l=a.children("ol.groupstatement:eq(0)");return r.length&&i.length&&s.length&&(n.arg.push(h(r),g(i),g(s)),t&&o.length&&n.arg.push(g(o)),l.children("li").length>0&&n.subtoken.push(e(l))),r=null,i=null,s=null,o=null,l=null,n}function s(e){var a={token:"INPUT",arg:[]},t=e.find("ol.startexpression:eq(0) > li:eq(0)");return a.arg.push(h(t)),a}function o(e,a){var t={token:a?"PRINTLINE":"PRINT",arg:[]},n=e.find("ol.startexpression:eq(0) > li:eq(0)");switch(n.data("token").split("-")[0]){case"INTEGER":t.arg.push(g(n));break;case"REAL":t.arg.push(m(n));break;case"LOGICAL":case"RELATIONAL":t.arg.push(A(n));break;case"STRING":t.arg.push(R(n))}return t}function l(e){var a={token:"SETVAR",arg:[]},t=e.find("ol.startexpression:eq(0) > li:eq(0)"),n=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(a.arg.push(h(t)),n.data("token").split("-")[0]){case"INTEGER":a.arg.push(g(n));break;case"REAL":a.arg.push(m(n));break;case"LOGICAL":a.arg.push(A(n));break;case"STRING":a.arg.push(R(n))}return a}function c(e,a){var t={token:a?"INCRVAR":"DECRVAR",arg:[]},n=e.find("ol.startexpression:eq(0) > li:eq(0)"),r=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(t.arg.push(h(n)),r.data("token").split("-")[0]){case"INTEGER":t.arg.push(g(r));break;case"REAL":t.arg.push(m(r))}return t}function p(e){var a={token:"SETARRVAR",arg:[]},t=e.find("ol.startexpression:eq(0) > li:eq(0)"),n=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(a.arg.push(b(t)),n.data("token").split("-")[0]){case"INTEGER":a.arg.push(g(n));break;case"REAL":a.arg.push(m(n));break;case"LOGICAL":a.arg.push(A(n));break;case"STRING":a.arg.push(R(n))}return a}function d(e,a){var t={token:a?"INCRARRVAR":"DECRARRVAR",arg:[]},n=e.find("ol.startexpression:eq(0) > li:eq(0)"),r=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(t.arg.push(b(n)),r.data("token").split("-")[0]){case"INTEGER":t.arg.push(g(r));break;case"REAL":t.arg.push(m(r))}return t}function u(e){switch(e.data("token").split("-")[0]){case"INTEGER":return g(e);case"REAL":return m(e);case"RELATIONAL":case"LOGICAL":return A(e);case"STRING":return R(e)}}function g(e){var a={arg:"",subarg:[]};switch(e.data("token")){case"INTEGER-CONSTANT":a=I(e,"INTEGER");break;case"INTEGER-ARRAY":a=b(e);break;case"INTEGER-VARIABLE":a=h(e);break;case"INTEGER-BINARY-OPERATION":a=f(e,2,"INTEGER");break;case"INTEGER-TERNARY-OPERATION":a=f(e,3,"INTEGER");break;case"INTEGER-NARY-OPERATION":a=f(e,4,"INTEGER")}return a}function m(e){var a={arg:"",subarg:[]};switch(e.data("token")){case"REAL-CONSTANT":a=I(e,"REAL");break;case"REAL-ARRAY":a=b(e);break;case"REAL-VARIABLE":a=h(e);break;case"REAL-BINARY-OPERATION":a=f(e,2,"REAL");break;case"REAL-TERNARY-OPERATION":a=f(e,3,"REAL");break;case"REAL-NARY-OPERATION":a=f(e,4,"REAL")}return a}function A(e){var a={arg:"",subarg:[]};switch(e.data("token")){case"LOGICAL-CONSTANT":a=I(e,"LOGICAL");break;case"LOGICAL-ARRAY":a=b(e);break;case"LOGICAL-VARIABLE":a=h(e);break;case"LOGICAL-UNARY-OPERATION":a=f(e,1,"LOGICAL");break;case"LOGICAL-BINARY-OPERATION":a=f(e,2,"LOGICAL");break;case"LOGICAL-TERNARY-OPERATION":a=f(e,3,"LOGICAL");break;case"LOGICAL-NARY-OPERATION":a=f(e,4,"LOGICAL");break;case"RELATIONAL-BINARY-OPERATION":a=f(e,2,"RELATIONAL")}return a}function R(e){var a={arg:"",subarg:[]};switch(e.data("token").split("-")[0]){case"INTEGER":a=g(e_arg);break;case"REAL":a=m(e_arg);break;case"LOGICAL":case"RELATIONAL":a=A(e_arg);break;case"STRING":switch(e.data("token")){case"STRING-CONSTANT":a=I(e,"STRING");break;case"REAL-ARRAY":a=b(e);break;case"STRING-VARIABLE":a=h(e);break;case"STRING-BINARY-OPERATION":a=f(e,2,"STRING");break;case"STRING-TERNARY-OPERATION":a=f(e,3,"STRING");break;case"STRING-NARY-OPERATION":a=f(e,4,"STRING")}}return a}function f(e,a,n){var r={arg:"",subarg:[]},i=e.children("ol");switch(a){case 1:r.arg=t[n].completeToken.operation[a];var s=$(i).children("li.exproperator:eq(0)").data("token"),o=$(i).children("li:eq(2)");o.length&&r.subarg.push(u(o)),""!=s&&r.subarg.push(s);break;case 2:r.arg=t[n].completeToken.operation[a];var s=$(i).children("li.exproperator:eq(0)").data("token"),o=$(i).children("li:eq(1)"),l=$(i).children("li:eq(3)");o.length&&r.subarg.push(u(o)),""!=s&&r.subarg.push(s),l.length&&r.subarg.push(u(l));break;case 3:r.arg=t[n].completeToken.operation[a];var s=$(i).children("li.exproperator:eq(0)").data("token"),c=$(i).children("li.exproperator:eq(1)").data("token"),o=$(i).children("li:eq(1)"),l=$(i).children("li:eq(3)"),p=$(i).children("li:eq(5)");o.length&&r.subarg.push(u(o)),""!=s&&r.subarg.push(s),""!=l&&r.subarg.push(u(l)),""!=c&&r.subarg.push(c),p.length&&r.subarg.push(u(p));break;case 4:r.arg=t[n].completeToken.operation[a];for(var d,g,m=1;m<$(i).children("li").length-1;m++)m%2!=0?(d=$(i).children("li:eq({0})".format(m)),d.length&&r.subarg.push(u(d))):(g=$(i).children("li:eq({0})".format(m)).data("token"),g.length&&r.subarg.push(g))}return r.arg,r}function b(e){var a={arg:e.data("token"),subarg:[e.hasClass("nonemptyvar")?e.data("arg_name"):null,0]},t=e.find("ol.groupexpression:eq(0) > li:eq(3)"),n=g(t);return null!=n&&(a.subarg[1]=n),a}function h(e){return{arg:e.data("token"),subarg:[e.hasClass("nonemptyvar")?e.data("arg_name"):null]}}function I(e,a){var n={arg:t[a].completeToken.constIdentifier,subarg:[]},r=e.find("input.input:eq(0)");return n.subarg.push(t[a].completeToken.parseConstant.fn(r.val())),r=null,n}function T(){return{rawCode:{declarations:{variable:controlVariable.getCode().variable,array:controlArray.getCode().array},main:e($(N))}}}var N="#workspace ol.groupstatement.startprogram";return{init:T}}(),c=function(){function e(e,t,i){for(var l=[],A=e.children("li"),R=0;R<t.length;R++)switch(t[R].token){case"IF":l.push(a(A.eq(R),t[R],!1));break;case"IFELSE":l.push(a(A.eq(R),t[R],!0));break;case"ITERATION0":l.push(n(A.eq(R),t[R]));break;case"ITERATION1":l.push(r(A.eq(R),t[R]));break;case"ITERATION2":l.push(s(A.eq(R),t[R],!1));break;case"ITERATION3":l.push(s(A.eq(R),t[R],!0));break;case"SETVAR":l.push(d(A.eq(R),t[R]));break;case"INCRVAR":l.push(u(A.eq(R),t[R],!0));break;case"DECRVAR":l.push(u(A.eq(R),t[R],!1));break;case"SETARRVAR":l.push(g(A.eq(R),t[R]));break;case"INCRARRVAR":l.push(m(A.eq(R),t[R],!0));break;case"DECRARRVAR":l.push(m(A.eq(R),t[R],!1));break;case"INPUT":l.push(c(A.eq(R),t[R]));break;case"PRINT":l.push(p(A.eq(R),t[R],!1));break;case"PRINTLINE":l.push(p(A.eq(R),t[R],!0));break;default:o("gen.1",A.eq(R)),terminateExecution()}return i&&l.push({token:"__EOF__"}),l}function a(a,t,n){var r={token:n?"IFELSE":"IF",arg:[],subtoken:[]};return null!=t.arg[0]?(r.arg.push(b(a.find("ol.startexpression:eq(0)"),t.arg[0])),t.subtoken[0]&&t.subtoken[0].length>0&&(r.subtoken[0]=e(a.children(".groupstatement:eq(0)"),t.subtoken[0])),n&&t.subtoken[1]&&t.subtoken[1].length>0&&(r.subtoken[1]=e(a.children(".groupstatement:eq(1)"),t.subtoken[1]))):o("gen.1",child.eq(i)),r}function n(a,t){var n={token:"ITERATION0",arg:[],subtoken:[]};return null!=t.arg[0]&&(n.arg.push(R(a.find("ol.startexpression:eq(0)"),t.arg[0])),t.subtoken[0]&&t.subtoken[0].length>0&&n.subtoken.push(e(a.children("ol.groupstatement:eq(0)"),t.subtoken[0]))),n}function r(a,t){var n={token:"ITERATION1",arg:[],subtoken:[]};return null!=t.arg[0]&&(n.arg.push(b(a.find("ol.startexpression:eq(0)"),t.arg[0])),t.subtoken[0]&&t.subtoken[0].length>0&&n.subtoken.push(e(a.children("ol.groupstatement:eq(0)"),t.subtoken[0]))),n}function s(a,t,n){var r={token:n?"ITERATION3":"ITERATION2",arg:[],subtoken:[]};return t.arg.length>2&&(r.arg.push(I(a.find("ol.startexpression:eq(0)"),t.arg[0],!0),R(a.find("ol.startexpression:eq(1)"),t.arg[1]),R(a.find("ol.startexpression:eq(2)"),t.arg[2])),n&&r.arg.push(R(a.find("ol.startexpression:eq(3)"),t.arg[3])),t.subtoken[0]&&t.subtoken[0].length>0&&r.subtoken.push(e(a.children(".groupstatement:eq(0)"),t.subtoken[0])),r.subtoken[0].push({token:"INCRVAR",arg:[I(a.find("ol.startexpression:eq(0)"),t.arg[0],!0),n?R(a.find("ol.startexpression:eq(3)"),t.arg[3]):R(a.find("ol.startexpression:eq(3)"),{arg:"INTEGER-CONSTANT",subarg:[1]})]})),r}function c(e,a){var t={token:"INPUT",arg:[]},n=e.find("ol.startexpression:eq(0) > li:eq(0)");return t.arg.push(I(n,a.arg[0])),t}function p(e,a,t){var n={token:t?"PRINTLINE":"PRINT",arg:[]},r=e.find("ol.startexpression:eq(0) > li:eq(0)");switch(a.arg[0].arg.split("-")[0]){case"INTEGER":n.arg.push(R(r,a.arg[0]));break;case"REAL":n.arg.push(f(r,a.arg[0]));break;case"LOGICAL":case"RELATIONAL":n.arg.push(b(r,a.arg[0]));break;case"STRING":n.arg.push(h(r,a.arg[0]))}return n}function d(e,a){var t={token:"SETVAR",arg:[]},n=e.find("ol.startexpression:eq(0) > li:eq(0)"),r=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(t.arg.push(I(n,a.arg[0])),a.arg[1].arg.split("-")[0]){case"INTEGER":t.arg.push(R(r,a.arg[1]));break;case"REAL":t.arg.push(f(r,a.arg[1]));break;case"LOGICAL":t.arg.push(b(r,a.arg[1]));break;case"STRING":t.arg.push(h(r,a.arg[1]))}return t}function u(e,a,t){var n={token:t?"INCRVAR":"DECRVAR",arg:[]},r=e.find("ol.startexpression:eq(0) > li:eq(0)"),i=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(n.arg.push(I(r,a.arg[0])),a.arg[1].arg.split("-")[0]){case"INTEGER":n.arg.push(R(i,a.arg[1]));break;case"REAL":n.arg.push(f(i,a.arg[1]))}return n}function g(e,a){var t={token:"SETARRVAR",arg:[]},n=e.find("ol.startexpression:eq(0) > li:eq(0)"),r=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(t.arg.push(T(n,a.arg[0])),a.arg[1].arg.split("-")[0]){case"INTEGER":t.arg.push(R(r,a.arg[1]));break;case"REAL":t.arg.push(f(r,a.arg[1]));break;case"LOGICAL":t.arg.push(b(r,a.arg[1]));break;case"STRING":t.arg.push(h(r,a.arg[1]))}return t}function m(e,a,t){var n={token:t?"INCRARRVAR":"DECRARRVAR",arg:[]},r=e.find("ol.startexpression:eq(0) > li:eq(0)"),i=e.find("ol.startexpression:eq(1) > li:eq(0)");switch(n.arg.push(T(r,a.arg[0])),a.arg[1].arg.split("-")[0]){case"INTEGER":n.arg.push(R(i,a.arg[1]));break;case"REAL":n.arg.push(f(i,a.arg[1]));break;case"LOGICAL":n.arg.push(b(i,a.arg[1]));break;case"STRING":n.arg.push(h(i,a.arg[1]))}return n}function A(e,a,t){return"integer"==e?R(a,t):"real"==e?f(a,t):"logical"==e?b(a,t):"relational"==e?b(a,t):"string"==e?h(a,t):""}function R(e,a){var t={arg:"INTEGER-CONSTANT",subarg:[]};switch(a.arg){case"INTEGER-CONSTANT":t.subarg.push(N(e,a.subarg,"INTEGER"));break;case"INTEGER-VARIABLE":t.subarg.push(I(e,a));break;case"INTEGER-ARRAY":t.subarg.push(T(e,a));break;case"INTEGER-BINARY-OPERATION":t.subarg.push(E(e,2,"INTEGER",a.subarg));break;case"INTEGER-TERNARY-OPERATION":t.subarg.push(E(e,3,"INTEGER",a.subarg));break;case"INTEGER-NARY-OPERATION":t.subarg.push(E(e,4,"INTEGER",a.subarg))}return t}function f(e,a){var t={arg:"REAL-CONSTANT",subarg:[]};switch(a.arg){case"REAL-CONSTANT":t.subarg.push(N(e,a.subarg,"REAL"));break;case"REAL-VARIABLE":t.subarg.push(I(e,a));break;case"REAL-ARRAY":t.subarg.push(T(e,a));break
;case"REAL-BINARY-OPERATION":t.subarg.push(E(e,2,"REAL",a.subarg));break;case"REAL-TERNARY-OPERATION":t.subarg.push(E(e,3,"REAL",a.subarg));break;case"REAL-NARY-OPERATION":t.subarg.push(E(e,4,"REAL",a.subarg))}return t}function b(e,a){var t={arg:"LOGICAL-CONSTANT",subarg:[]};switch(a.arg){case"LOGICAL-CONSTANT":t.subarg.push(N(e,a.subarg,"LOGICAL"));break;case"LOGICAL-VARIABLE":t.subarg.push(I(e,a));break;case"LOGICAL-ARRAY":t.subarg.push(T(e,a));break;case"LOGICAL-UNARY-OPERATION":t.subarg.push(E(e,1,"LOGICAL",a.subarg));break;case"LOGICAL-BINARY-OPERATION":t.subarg.push(E(e,2,"LOGICAL",a.subarg));break;case"LOGICAL-TERNARY-OPERATION":t.subarg.push(E(e,3,"LOGICAL",a.subarg));break;case"LOGICAL-NARY-OPERATION":t.subarg.push(E(e,4,"LOGICAL",a.subarg));break;case"RELATIONAL-BINARY-OPERATION":t.subarg.push(E(e,2,"RELATIONAL",a.subarg))}return t}function h(e,a){var t={arg:"STRING-CONSTANT",subarg:[]};switch(a.arg.split("-")[0]){case"INTEGER":t.arg.push(R(e,a.subarg));break;case"REAL":t.arg.push(f(e,a.subarg));break;case"LOGICAL":case"RELATIONAL":t.arg.push(b(e,a.subarg));break;case"STRING":switch(a.arg){case"STRING-CONSTANT":t.subarg.push(N(e,a.subarg,"STRING"));break;case"STRING-VARIABLE":t.subarg.push(I(e,a));break;case"STRING-ARRAY":t.subarg.push(T(e,a));break;case"STRING-BINARY-OPERATION":t.subarg.push(E(e,2,"STRING",a.subarg));break;case"STRING-TERNARY-OPERATION":t.subarg.push(E(e,3,"STRING",a.subarg));break;case"STRING-NARY-OPERATION":t.subarg.push(E(e,4,"STRING",a.subarg))}}return t}function I(e,a,t){return 0!=t&&null!=t||a.subarg&&void 0!=a.subarg[0]&&null!=a.subarg[0]||(o("var.nul.0"),terminateExecution()),a.subarg&&void 0!=a.subarg[0]&&null!=a.subarg[0]||(a.subarg[0]=""),{arg:a.arg,subarg:[a.subarg[0]]}}function T(e,a,t){return 0!=t&&null!=t||a.subarg&&void 0!=a.subarg[0]&&null!=a.subarg[0]||(o("var.nul.0"),terminateExecution()),a.subarg&&void 0!=a.subarg[0]&&null!=a.subarg[0]||(a.subarg[0]=""),a.subarg&&void 0!=a.subarg[1]&&null!=a.subarg[1]||(a.subarg[1]=""),{arg:a.arg,subarg:[a.subarg[0],R(e.find("ol > li.exprdefault"),a.subarg[1])]}}function N(e,a,n){var r={arg:t[n].completeToken.constIdentifier,subarg:[]};return r.subarg.push(t[n].completeToken.parseConstant.fn(a[0])),r}function E(e,a,n,r){var i={arg:t[n].completeToken.operationIdentifier,subarg:[]},s={arg:t[n].completeToken.operation[a],subarg:[]},l=e.children("ol");switch(r&&r.length==2*a-1||1==a&&4==a&&2==r.length||(o("exp.opr.0"),terminateExecution()),a){case 1:s.subarg.push(A(n.toLowerCase(),l.children("li:eq(2)"),r[0])),s.subarg.push(r[1]);break;case 2:s.subarg.push(A(r[0].arg.split("-")[0].toLowerCase(),l.children("li:eq(1)"),r[0])),s.subarg.push(r[1]),s.subarg.push(A(r[2].arg.split("-")[0].toLowerCase(),l.children("li:eq(3)"),r[2]));break;case 3:s.subarg.push(A(n.toLowerCase(),l.children("li:eq(1)"),r[0])),s.subarg.push(r[1]),s.subarg.push(A(n.toLowerCase(),l.children("li:eq(3)"),r[2])),s.subarg.push(r[3]),s.subarg.push(A(n.toLowerCase(),l.children("li:eq(5)"),r[4]));break;case 4:for(var c=0;c<r.length;c++)c%2==0?s.subarg.push(A(n.toLowerCase(),l.children("li:eq({0})".format(c+1)),r[c])):s.subarg.push(r[c])}return""==i.arg||s.arg,i.subarg.push(s),i}function v(){$("#output section.code-correction").empty();var a=l.init().rawCode;return{completeCode:{declarations:a.declarations,main:e($(L),a.main,!0)}}}var L="#workspace ol.groupstatement.startprogram";return{init:v}}(),p=function(a,n){function r(e,a){for(i=a.length-1;i>=0;i--)j.push(a[i]),H.push(e.children("li:eq("+i+")"))}function l(){j.length>0&&p(H.pop(),j.pop())}function p(e,a){if(null!=a.token)switch(a.token){case"IF":f(e,a,!1);break;case"IFELSE":f(e,a,!0);break;case"ITERATION0":b(e,a);break;case"ITERATION1":h(e,a);break;case"ITERATION2":I(e,a,!1);break;case"ITERATION3":I(e,a,!0);break;case"SETVAR":T(e,a);break;case"INCRVAR":N(e,a,!0);break;case"DECRVAR":N(e,a,!1);break;case"SETARRVAR":E(e,a);break;case"INCRARRVAR":v(e,a,!0);break;case"DECRARRVAR":v(e,a,!1);break;case"PRINT":O(e,a,!1);break;case"INPUT":L(e,a);break;case"PRINTLINE":O(e,a,!0);break;case"__EOF__":q()}}function d(e,a){var n=e.arg.split("-")[0],r=e.subarg[0],i="",s=$("<span/>",{class:"label label-default"});$(z).unbind("submit keydown keyup change"),$(W).append(s),$('#output a[data-toggle="tab"][href="#outp-output"]').tab("show"),$(z).children("span").addClass(n).text("input: "+r),$(z).children("input").prop("disabled",!1),$(z).children("input").focus(),$(z).on("keydown keyup change",function(){i=$(z).children("input").val(),s.text(i)}),$(z).submit(function(e){$(z).children("input").prop("disabled",!0),i=$(z).children("input").val(),s.text(i),t[n].completeToken.validConstant.fn(i)&&m({name:r,type:n.toLowerCase(),isOridinaryVar:!0},i),$(z).children("input").val(""),$(z).children("span").removeClass(n).text("input"),u("<br/>"),a(),e.preventDefault()})}function u(e){e=e.replace("\\n","<br/>"),_.push(e),$('#output a[data-toggle="tab"][href="#outp-output"]').tab("show"),$(W).append(e)}function g(e){if(null==e.name||null==e.isOridinaryVar)return{errorCode:1};if(e.isOridinaryVar){if(!M.hasOwnProperty(e.name))return!1;if(e.type){if(!e.type.match(/^(integer|real|logical|string)$/gi))return{errorCode:1};if(M[e.name].type!=e.type)return!1}return!0}if(!U.hasOwnProperty(e.name))return!1;if(e.type){if(!e.type.match(/^(integer|real|logical|string)$/gi))return{errorCode:1};if(U[e.name].type!=e.type)return!1}return!0}function m(e,a){return null==e.type||null==a||!g(e)||null==e.isOridinaryVar&&null==e.index?{errorCode:1}:e.isOridinaryVar?(M[e.name].value=t[e.type.toUpperCase()].completeToken.parseConstant.fn(a),M[e.name].value):(U[e.name].values[e.index]=t[e.type.toUpperCase()].completeToken.parseConstant.fn(a),U[e.name].values[e.index])}function A(e,a,n){return e.type&&null!=a&&null!=n&&g(e)&&(e.isOridinaryVar||e.index)&&M[e.name].type.match(/^(integer|real)$/gi)?(a||(n*=-1),e.isOridinaryVar?("real"==M[e.name].type?(M[e.name].value=t[e.type.toUpperCase()].completeToken.parseConstant.fn(n),M[e.name].value=parseFloat(M[e.name].value+n)):"integer"==M[e.name].type&&(M[e.name].value=parseInt(M[e.name].value+n)),M[e.name].value):("real"==U[e.name].type?U[e.name].values[e.index]=parseFloat(U[e.name].value[e.index]+n):"integer"==U[e.name].type&&(U[e.name].values[e.index]=parseInt(U[e.name].value[e.index]+n)),U[e.name].values[e.index])):{errorCode:1}}function R(e){return g(e)?e.isOridinaryVar?M[e.name].value:U[e.name].values[e.index]:{errorCode:1}}function f(e,a,t){var n=e.find("ol.startexpression:eq(0)"),i=e.children(".groupstatement:eq(0)");if(null!=a.arg[0]){var s=C(n,a.arg[0]);a.subtoken&&(s&&a.subtoken[0]&&a.subtoken[0].length>0&&r(i,a.subtoken[0]),t&&(s||a.subtoken[1]&&a.subtoken[1].length>0&&r(i,a.subtoken[1])))}l()}function b(e,a){var t=1e8,n=e.find(">.arg ol.startexpression"),i=e.children(".groupstatement:eq(0)"),s=0;null!=a.arg[0]&&a.arg[0].arg.match(/^INTEGER\-CONSTANT$/gi)&&(s=k(n[0],a.arg[0]));for(var c=0;c<s;c++,t--){if(t<=0){o("sta.it0.0",e),q();break}a.subtoken.length>0&&r(i,a.subtoken[0])}l()}function h(e,a){var t=1e8,n=e.find("ol.startexpression:eq(0)"),i=e.children("ol.groupstatement:eq(0)");if(null!=a.arg[0])for(var s=C(n,a.arg[0]);s;){if(t<=0){o("sta.it0.0",e),q();break}a.subtoken[0]&&a.subtoken[0].length>0&&r(i,a.subtoken[0]),t--}l()}function I(e,a,t){var n,i=1e8,s=e.find(">.arg ol.startexpression"),c=e.children(".groupstatement:eq(0)"),p=!1,d=0,u=0,A=1;if(null!=a.arg[0]&&a.arg[0].subarg[0]&&(a.arg[0].arg.match(/^INTEGER\-VARIABLE$/gi)&&g({name:a.arg[0].subarg[0],isOridinaryVar:!0,type:"integer"})||a.arg[0].arg.match(/^INTEGER\-ARRAY$/gi)&&g({name:a.arg[0].subarg[0],isOridinaryVar:!1,type:"integer",index:0}))?(p=!0,n=a.arg[0].subarg[0]):o("sta.it2.0",s.eq(0).children("li")),null!=a.arg[1]&&a.arg[1].arg.match(/^INTEGER\-CONSTANT$/gi)&&(d=k(s[1],a.arg[1])),null!=a.arg[2]&&a.arg[2].arg.match(/^INTEGER\-CONSTANT$/gi)&&(u=k(s[2],a.arg[2])),t&&null!=a.arg[3]){if(0==(A=k(s,a.arg[3])))return o("sta.it2.1",s.eq(3).children("li")),void q()}else A=u-d>=0?1:-1;p&&m({name:n,type:"integer",isOridinaryVar:!0},d);for(var R=d;R>=d&&R<=u||R>=u&&R<=d;R+=A,i--){if(i<=0){o("sta.it0.0",e),q();break}a.subtoken.length>0&&r(c,a.subtoken[0])}l()}function T(e,a){var t=(e.find("ol.startexpression:eq(0) > li:eq(0)"),e.find("ol.startexpression:eq(0) > li:eq(0)"));null==a.arg[0]||!a.arg[0].arg||a.arg[0].subarg[0],a.arg[1];var n,r=a.arg[0].subarg[0],i=a.arg[0].arg.split("-")[0].toLowerCase();switch(g({name:r,isOridinaryVar:!0,type:i}),i){case"integer":n=k(t,a.arg[1]);break;case"real":n=x(t,a.arg[1]);break;case"logical":n=C(t,a.arg[1]);break;case"string":n=y(t,a.arg[1])}m({name:r,type:i,isOridinaryVar:!0},n),l()}function N(e,a,t){var n=(e.find("ol.startexpression:eq(0) > li:eq(0)"),e.find("ol.startexpression:eq(0) > li:eq(0)"),e.find("ol.startexpression:eq(1) > li:eq(0)"));null==a.arg[0]||!a.arg[0].arg||a.arg[0].subarg[0],a.arg[1];var r,i=a.arg[0].subarg[0],s=a.arg[0].arg.split("-")[0].toLowerCase();if(!g({name:i,isOridinaryVar:!0,type:s}))return void l();switch(s){case"integer":r=k(n,a.arg[1]);break;case"real":r=x(n,a.arg[1]);break;case"logical":r=C(n,a.arg[1]);break;case"string":r=y(n,a.arg[1])}A({name:i,type:s,isOridinaryVar:!0},t,r),l()}function E(e,a){var t=(e.find("ol.startexpression:eq(0) > li:eq(0)"),e.find("ol.startexpression:eq(0) > li:eq(0)"),e.find("ol.startexpression:eq(1) > li:eq(0)"));null==a.arg[0]||!a.arg[0].arg||a.arg[0].subarg[0],a.arg[1],a.arg[1];var n,r=a.arg[0].subarg[0],i=a.arg[0].arg.split("-")[0].toLowerCase(),s=k(t,a.arg[0].subarg[1]);switch(g({name:r,isOridinaryVar:!1,type:i,index:s}),i){case"integer":n=k(t,a.arg[1]);break;case"real":n=x(t,a.arg[1]);break;case"logical":n=C(t,a.arg[1]);break;case"string":n=y(t,a.arg[1])}m({name:r,type:i,isOridinaryVar:!1,index:s},n),l()}function v(e,a,t){var n=(e.find("ol.startexpression:eq(0) > li:eq(0)"),e.find("ol.startexpression:eq(0) > li:eq(0)"),e.find("ol.startexpression:eq(1) > li:eq(0)"));null==a.arg[0]||!a.arg[0].arg||a.arg[0].subarg[0],a.arg[1];var r,i=a.arg[0].subarg[0],s=a.arg[0].arg.split("-")[0].toLowerCase(),o=k(n,a.arg[0].subarg[1]);switch(g({name:i,isOridinaryVar:!1,type:s,index:o}),s){case"integer":r=k(n,a.arg[1]);break;case"real":r=x(n,a.arg[1]);break;case"logical":r=C(n,a.arg[1]);break;case"string":r=y(n,a.arg[1])}A({name:i,type:s,isOridinaryVar:!1,index:0},t,r),l()}function L(e,a){e.find("ol.startexpression:eq(0) > li:eq(0)");d(a.arg[0],function(){l()})}function O(e,a,t){u(y(e.find("ol.startexpression:eq(0) > li:eq(0)"),a.arg[0])+(t?"<br/>":"")),l()}function k(e,a){switch(ret=0,a.subarg[0].arg){case"INTEGER-CONSTANT":return ret=w(e,"INTEGER",a.subarg[0].subarg);case"INTEGER-VARIABLE":return ret=G(e,"INTEGER",a.subarg[0].subarg);case"INTEGER-ARRAY":return ret=S(e,"INTEGER",a.subarg[0].subarg);case"INTEGER-ARITHMETIC-OPERATION":return ret=D(e,"INTEGER","ARITHMETIC",a.subarg[0].subarg)}return ret}function x(e,a){switch(ret=0,a.subarg[0].arg){case"REAL-CONSTANT":return ret=w(e,"REAL",a.subarg[0].subarg);case"REAL-VARIABLE":return ret=G(e,"REAL",a.subarg[0].subarg);case"REAL-ARRAY":return ret=S(e,"REAL",a.subarg[0].subarg);case"REAL-ARITHMETIC-OPERATION":return ret=D(e,"REAL","ARITHMETIC",a.subarg[0].subarg)}return ret}function C(e,a){switch(ret=!1,a.subarg[0].arg){case"LOGICAL-CONSTANT":ret=w(e,"LOGICAL",a.subarg[0].subarg);break;case"LOGICAL-VARIABLE":ret=G(e,"LOGICAL",a.subarg[0].subarg);break;case"LOGICAL-ARRAY":ret=S(e,"LOGICAL",a.subarg[0].subarg);break;case"LOGICAL-OPERATION":ret=D(e,"LOGICAL","LOGICAL",a.subarg[0].subarg);break;case"RELATIONAL-OPERATION":ret=P(e,a.subarg[0].subarg)}return ret}function y(e,a){switch(ret="",a.subarg[0].arg.split("-")[0]){case"INTEGER":ret=k(e,a);break;case"REAL":ret=x(e,a);break;case"RELATIONAL":case"LOGICAL":ret=C(e,a);break;case"STRING":switch(a.subarg[0].arg){case"STRING-CONSTANT":ret=w(e,"STRING",a.subarg[0].subarg);break;case"STRING-OPERATION":ret=D(e,"STRING","STRING",a.subarg[0].subarg);break;case"STRING-VARIABLE":ret=G(e,"STRING",a.subarg[0].subarg);break;case"STRING-ARRAY":ret=S(e,"STRING",a.subarg[0].subarg)}}return ret}function G(e,a,t){return g({name:t[0],isOridinaryVar:!0,type:a.toLowerCase()})?R({name:t[0],isOridinaryVar:!0,type:a.toLowerCase()}):w(e,a,[null])}function S(e,a,n){var r=n[0],i=k(e.find("ol.groupexpression:eq(0) > li.exprdefault:eq(0)"),n[1]);if(g({name:r,index:i,isOridinaryVar:!1,type:a.toLowerCase()})){if(void 0==R({name:r,index:i,isOridinaryVar:!1,type:a.toLowerCase()})){switch(a.toUpperCase()){case"INTEGER":o("var.ini.0",e);break;case"REAL":o("var.ini.1",e);break;case"LOGICAL":o("var.ini.2",e);break;case"STRING":o("var.ini.3",e)}return t[a.toUpperCase()].completeToken.defaultConstant}return R({name:r,index:i,isOridinaryVar:!1,type:a.toLowerCase()})}return w(e,a,[null])}function w(e,a,n){switch(a){case"LOGICAL":return function(e){return t.LOGICAL.completeToken.validConstant.fn(e)?Boolean(e):(o("0.0.2"),!1)}(n[0]);case"INTEGER":return function(e){return t.INTEGER.completeToken.validConstant.fn(e)?parseInt(e):(o("0.0.0"),parseInt(0))}(n[0]);case"REAL":return function(e){return t.REAL.completeToken.validConstant.fn(e)?e:(o("0.0.1"),0)}(n[0]);case"STRING":return function(e){return e.toString()}(n[0]);default:return!1}}function P(e,a){var t=e.find("ol.groupexpression:eq(0)"),n={"OP-AND":{priorityLevel:6},"OP-XOR":{priorityLevel:5},"OP-OR":{priorityLevel:4},"OP-LE":{priorityLevel:3},"OP-LT":{priorityLevel:3},"OP-GE":{priorityLevel:3},"OP-GT":{priorityLevel:3},"OP-EQ":{priorityLevel:3},"OP-NE":{priorityLevel:3},"OP-MUL":{priorityLevel:2},"OP-DIV":{priorityLevel:2},"OP-MOD":{priorityLevel:2},"OP-ADD":{priorityLevel:1},"OP-SUB":{priorityLevel:1}},r=(a[0].subarg.length,function(e){return e.match(/^((INTEGER|REAL|LOGICAL|STRING)\-CONSTANT)$/gi)}),i=[],s=[];if(function(e){return e.match(/^(OP\-(LE|LT|GE|GT|EQ|NE))$/gi)}(a[0].subarg[1].toString()))if(obj_in=a[0].subarg[1].toString(),i.length>0){var o=i[i.length-1];n[obj_in].priorityLevel>n[o].priorityLevel?i.push(obj_in):(s.push(i.pop()),i.push(obj_in))}else i.push(obj_in);if(r(a[0].subarg[0].arg)&&r(a[0].subarg[2].arg)&&a[0].subarg[0].arg==a[0].subarg[2].arg)switch(a[0].subarg[0].arg.split("-")[0]){case"INTEGER":s.push(k(t.children("li.expr:eq(0)"),a[0].subarg[0])),s.push(k(t.children("li.expr:eq(2)"),a[0].subarg[2]));break;case"REAL":s.push(x(t.children("li.expr:eq(0)"),a[0].subarg[0].subarg)),s.push(x(t.children("li.expr:eq(3)"),a[0].subarg[2].subarg));break;case"LOGICAL":s.push(C(t.children("li.expr:eq(0)"),a[0].subarg[0])),s.push(C(t.children("li.expr:eq(3)"),a[0].subarg[2]));break;case"STRING":s.push(y(t.children("li.expr:eq(0)"),a[0].subarg[0])),s.push(y(t.children("li.expr:eq(3)"),a[0].subarg[2]));break;default:return[]}for(;i.length>0;)s.push(i.pop());return V(s,"RELATIONAL")}function D(e,a,t,n){for(var r=e.find("ol.groupexpression:eq(0)"),i={"OP-CON":{priorityLevel:7},"OP-AND":{priorityLevel:6},"OP-XOR":{priorityLevel:5},"OP-OR":{priorityLevel:4},"OP-LE":{priorityLevel:3},"OP-LT":{priorityLevel:3},"OP-GE":{priorityLevel:3},"OP-GT":{priorityLevel:3},"OP-EQ":{priorityLevel:3},"OP-NE":{priorityLevel:3},"OP-MUL":{priorityLevel:2},"OP-DIV":{priorityLevel:2},"OP-MOD":{priorityLevel:2},"OP-ADD":{priorityLevel:1},"OP-SUB":{priorityLevel:1}},s=n[0].subarg.length,o=[],l=[],c=0;c<s;c++){var p=n[0].subarg[c].arg;if(c%2!=0&&function(e){switch(t){case"ARITHMETIC":return e.match(/^(OP\-(MUL|DIV|MOD|ADD|SUB))$/gi);case"LOGICAL":return e.match(/^(OP\-(NOT|AND|XOR|OR))$/gi);case"STRING":return e.match(/^(OP\-(CON))$/gi);default:return!1}}(n[0].subarg[c].toString()))if(p=n[0].subarg[c].toString(),o.length>0){var d=o[o.length-1];i[p].priorityLevel>i[d].priorityLevel?o.push(p):(l.push(o.pop()),o.push(p))}else o.push(p);else{if(!function(e){switch(a){case"INTEGER":return e.match(/^(INTEGER\-CONSTANT)$/gi);case"REAL":return e.match(/^(REAL\-CONSTANT)$/gi);case"LOGICAL":return e.match(/^(LOGICAL\-CONSTANT)$/gi);case"STRING":return e.match(/^(STRING\-CONSTANT)$/gi);default:return!1}}(p))return[];switch(a){case"INTEGER":l.push(k(r.children("li.expr:eq("+c+")"),n[0].subarg[c]));break;case"REAL":l.push(x(r.children("li.expr:eq("+c+")"),n[0].subarg[c].subarg));break;case"LOGICAL":l.push(C(r.children("li.expr:eq("+c+")"),n[0].subarg[c]));break;case"STRING":l.push(y(r.children("li.expr:eq("+c+")"),n[0].subarg[c]));break;default:return[]}}}for(;o.length>0;)l.push(o.pop());return V(l,t)}function V(e,a){for(var t=[],n=0;n<e.length;n++)if(e[n]&&e[n].toString().match(/^(OP\-[A-Z]*)$/gi)){if(t.length>=1)switch(a){case"LOGICAL":t.push(function(e,a,t){switch(a){case"OP-NOT":return!e;case"OP-AND":return t&&e;case"OP-OR":return t||e;case"OP-XOR":return!!(t^1==e)}}(t.pop(),e[n],t.pop()));break;case"RELATIONAL":t.push(function(e,a,t){switch(a){case"OP-LE":return t<=e;case"OP-LT":return t<e;case"OP-GE":return t>e;case"OP-GT":return t>=e;case"OP-EQ":return t==e;case"OP-NE":return t!=e}}(t.pop(),e[n],t.pop()));break;case"ARITHMETIC":t.push(function(e,a,t){switch(a){case"OP-ADD":return t+e;case"OP-SUB":return t-e;case"OP-MUL":return t*e;case"OP-DIV":return t/e;case"OP-MOD":return t%e}}(t.pop(),e[n],t.pop()));break;case"STRING":t.push(function(e,a,t){switch(a){case"OP-CON":return t+e}}(t.pop(),e[n],t.pop()))}}else t.push(e[n]);if(1==t.length)return t[0]}function q(e){Y(),e?a():setTimeout(function(){a()},500)}function B(){var a=jQuery.extend(!0,{},c.init().completeCode);$(W).empty(),$(z).val(""),s(),$("#compilerMessage").text(e),a.declarations&&(a.declarations.variable&&(M=a.declarations.variable),a.declarations.array&&(U=a.declarations.array)),a.main&&(r($(F),a.main),l())}function Y(){M={},U={},e=0,j=[],routineIndex=-1}var _=[],M={},U={},F="#workspace > .pre_startprogram > ol",z="#output form",W="#outp-output .outp-inner",j=[],H=[];this.start=function(){B()},this.stop=function(e){q(e)}};return{buildRawCode:function(){return l.init()},execute:p}}(),guides={IF:{name:"IF"},IFELSE:{name:"IFELSE"},ITERATION0:{name:"ITERASI 0"},ITERATION1:{name:"ITERASI 1"},ITERATION2:{name:"ITERASI 2"},ITERATION3:{name:"ITERASI 3"},SETVAR:{name:"SET VARIABEL"},INCRVAR:{name:"INCREMENT VARIABEL"},DECRVAR:{name:"DECREMENT VARIABEL"},SETARRVAR:{name:"SET VARIABEL LIST"},INCRARRVAR:{name:"INCREMENT VARIABEL LIST"},DECRARRVAR:{name:"DECREMENT VARIABEL LIST"},PRINT:{name:"CETAK"},PRINTLINE:{name:"CETAK & PINDAH BARIS"},INPUT:{name:"INPUT"},"INTEGER-BINARY-OPERATION":{name:"OPRERATOR INTEGER"},"INTEGER-TERNARY-OPERATION":{name:"OPRERATOR INTEGER"},"REAL-BINARY-OPERATION":{name:"OPRERATOR REAL"},"REAL-TERNARY-OPERATION":{name:"OPRERATOR REAL"},"LOGICAL-UNARY-OPERATION":{name:"OPRERATOR LOGICAL"},"LOGICAL-BINARY-OPERATION":{name:"OPRERATOR LOGICAL"},"LOGICAL-TERNARY-OPERATION":{name:"OPRERATOR LOGICAL"},"RELATIONAL-BINARY-OPERATION":{name:"OPRERATOR RELATIONAL"},"STRING-BINARY-OPERATION":{name:"OPRERATOR STRING"},"STRING-TERNARY-OPERATION":{name:"OPRERATOR STRING"},"INTEGER-VARIABLE":{name:"VARIABEL INTEGER"},"REAL-VARIABLE":{name:"VARIABEL REAL"},"LOGICAL-VARIABLE":{name:"VARIABEL LOGICAL"},"STRING-VARIABLE":{name:"VARIABEL STRING"},"INTEGER-ARRAY":{name:"VARIABEL LIST INTEGER"},"REAL-ARRAY":{name:"VARIABEL LIST REAL"},"LOGICAL-ARRAY":{name:"VARIABEL LIST LOGICAL"},"STRING-ARRAY":{name:"VARIABEL LIST STRING"}},dict={integer:{dataLabel:{arrName:"INTEGER-ARRAY",arrLabel:"AI",arrFullLabel:"Array Integer",varName:"INTEGER-VARIABLE",varLabel:"VI",varFullLabel:"Variabel Integer",constName:"INTEGER-CONSTANT",consLabel:"NI",consFullLabel:"Nilai Integer",operation:{1:"INTEGER-UNARY-OPERATION",2:"INTEGER-BINARY-OPERATION",3:"INTEGER-TERNARY-OPERATION",4:"INTEGER-NARY-OPERATION"},operator:{ADD:"OP-ADD",SUB:"OP-SUB",MUL:"OP-MUL",DIV:"OP-DIV",MOD:"OP-MOD"},operatorName:{ADD:"Penjumlahan",SUB:"Pengurangan",MUL:"Perkalian",DIV:"Pembagian",MOD:"Modulus"},operatorLabel:{ADD:"+",SUB:"−",MUL:"×",DIV:"∕",MOD:"%"},defOperator:"ADD"},dataToken:{constIdentifier:"INTEGER-CONSTANT",operationIdentifier:"INTEGER-ARITHMETIC-OPERATION",operation:{2:"INTEGER-BINARY-OPERATION",3:"INTEGER-TERNARY-OPERATION",4:"INTEGER-NARY-OPERATION"},parseConstant:{fn:function(e){return null!=e&&e.toString().match(/^(\-{0,1}[0-9]+)$/gi)?parseInt(e):parseInt(0)}},validConstant:{fn:function(e){return!(null==e||!e.toString().match(/^(\-{0,1}[0-9]+)$/gi))}},defaultConstant:0},spinner:{buttondown_class:"btn expr-input-btn",buttonup_class:"btn expr-input-btn",prefix_extraclass:"expr-input-prefix",min:-2147483648,max:2147483647,stepinterval:1,maxboostedstep:10,prefix:"integer"}},real:{dataLabel:{arrName:"REAL-ARRAY",arrLabel:"AR",arrFullLabel:"Array Real",varName:"REAL-VARIABLE",varLabel:"VR",varFullLabel:"Variabel Real",constName:"REAL-CONSTANT",consLabel:"NR",consFullLabel:"Nilai Real",operation:{1:"REAL-UNARY-OPERATION",2:"REAL-BINARY-OPERATION",3:"REAL-TERNARY-OPERATION",4:"REAL-NARY-OPERATION"},operator:{ADD:"OP-ADD",SUB:"OP-SUB",MUL:"OP-MUL",DIV:"OP-DIV"},operatorName:{ADD:"Penjumlahan",SUB:"Pengurangan",MUL:"Perkalian",DIV:"Pembagian"},operatorLabel:{ADD:"+",SUB:"−",MUL:"×",DIV:"∕"},defOperator:"ADD"},dataToken:{constIdentifier:"REAL-CONSTANT",operationIdentifier:"REAL-ARITHMETIC-OPERATION",operation:{2:"REAL-BINARY-OPERATION",3:"REAL-TERNARY-OPERATION",4:"REAL-NARY-OPERATION"},parseConstant:{fn:function(e){return null!=e&&e.toString().match(/^(\-{0,1}[0-9]+.[0-9]+)$/gi)?e:0}},validConstant:{fn:function(e){return!(null==e||!e.toString().match(/^(\-{0,1}[0-9]+.[0-9]+)$/gi))}},defaultConstant:0},spinner:!1},logical:{dataLabel:{arrName:"LOGICAL-ARRAY",arrLabel:"AL",arrFullLabel:"Array Logical",varName:"LOGICAL-VARIABLE",varLabel:"VL",varFullLabel:"Variabel Logical (Boolean)",constName:"LOGICAL-CONSTANT",consLabel:"NL",consFullLabel:"Nilai Logical (Boolean)",operation:{1:"LOGICAL-UNARY-OPERATION",2:"LOGICAL-BINARY-OPERATION",3:"LOGICAL-TERNARY-OPERATION",4:"LOGICAL-NARY-OPERATION"},operatorNot:{NOT:"OP-NOT"},operator:{AND:"OP-AND",OR:"OP-OR",XOR:"OP-XOR"},operatorName:{NOT:"Negasi",AND:"Logika AND",OR:"Logika OR",XOR:"Logika XOR"},operatorLabel:{NOT:"!",AND:"&",OR:"∥",XOR:"⊕"},defOperator:"AND"},dataToken:{constIdentifier:"LOGICAL-CONSTANT",operationIdentifier:"LOGICAL-OPERATION",operation:{1:"LOGICAL-UNARY-OPERATION",2:"LOGICAL-BINARY-OPERATION",3:"LOGICAL-TERNARY-OPERATION",4:"LOGICAL-NARY-OPERATION"},parseConstant:{fn:function(e){return null!=e&&e.toString().match(/^(0|1|true|false)$/gi)?1==e||"true"==e?1:0==e||"false"==e?0:void 0:0}},validConstant:{fn:function(e){return!(null==e||!e.toString().match(/^(0|1|true|false)$/gi))&&(1==e||"true"==e||0!=e&&"false"!=e&&void 0)}},defaultConstant:!1},spinner:{buttondown_class:"btn expr-input-btn",buttonup_class:"btn expr-input-btn",prefix_extraclass:"expr-input-prefix",min:0,max:1,stepinterval:1,maxboostedstep:1,prefix:"logical"}},logicalrelational:{dataLabel:{constName:"STRING-CONSTANT",consLabel:"NS",consFullLabel:"Nilai String",operation:{2:"RELATIONAL-BINARY-OPERATION"},operator:{EQ:"OP-EQ",NE:"OP-NE",LT:"OP-LT",LE:"OP-LE",GT:"OP-GT",GE:"OP-GE"},operatorName:{EQ:"Sama Dengan",NE:"Tidak Sama Dengan",LT:"Kurang Dari",LE:"Kurang Dari atau Sama Dengan",GT:"Lebih Dari",GE:"Lebih Dari atau Sama Dengan"},operatorLabel:{EQ:"==",NE:"≠",LT:"<",LE:"≤",GT:">",GE:"≥"},defOperator:"EQ"},dataToken:{constIdentifier:"STRING-CONSTANT",operationIdentifier:"STRING-OPERATION",operation:{2:"STRING-BINARY-OPERATION",3:"STRING-TERNARY-OPERATION"},parseConstant:{fn:function(e){return e?e.toString():""}},validConstant:{fn:function(e){return!!e||""}},defaultConstant:""}},string:{dataLabel:{arrName:"STRING-ARRAY",arrLabel:"AS",arrFullLabel:"Array String",varName:"STRING-VARIABLE",varLabel:"VS",varFullLabel:"Variabel String",constName:"STRING-CONSTANT",consLabel:"NS",consFullLabel:"Nilai String",operation:{2:"STRING-BINARY-OPERATION",3:"STRING-TERNARY-OPERATION",4:"STRING-NARY-OPERATION"},operator:{CONCAT:"OP-CON"},operatorName:{CONCAT:"Gabung String (Concatenation)"},operatorLabel:{CONCAT:"•"},defOperator:"CONCAT"},dataToken:{constIdentifier:"STRING-CONSTANT",operationIdentifier:"STRING-OPERATION",operation:{2:"STRING-BINARY-OPERATION",3:"STRING-TERNARY-OPERATION",4:"STRING-NARY-OPERATION"},parseConstant:{fn:function(e){return e?e.toString():""}},validConstant:{fn:function(e){return!!e||""}},defaultConstant:""},spinner:!1}},commandCenter=[null],commandCenter_Inverse=[null],maxCommandHandle=20,commandLastIndex=-1,addCommand=function(e,a){20==commandCenter.length&&removeCommand(),commandLastIndex=commandCenter.push(e)-1,commandCenter_Inverse.push(a),commandCenter.length>0&&$(".action-undo").removeClass("inactive")},checkIndex=function(e){return!(1==e&&commandLastIndex==commandCenter_Inverse.length-1||0==e&&0==commandLastIndex||-1==commandLastIndex)},changeIndex=function(e){commandLastIndex+=1==e?1:-1,0==commandLastIndex?($(".action-undo").addClass("inactive"),commandCenter.length>1&&$(".action-redo").removeClass("inactive")):commandLastIndex==commandCenter.length-1&&($(".action-redo").addClass("inactive"),commandCenter.length>1&&$(".action-undo").removeClass("inactive"))},removeCommand=function(){commandCenter.pop(),commandCenter_Inverse.pop()},undoCommand_=function(){return 0!=checkIndex(!1)&&("function"==typeof commandCenter[commandLastIndex]&&commandCenter[commandLastIndex](),changeIndex(!1),!0)},redoCommand_=function(){return 0!=checkIndex(!0)&&(changeIndex(!0),"function"==typeof commandCenter_Inverse[commandLastIndex]&&commandCenter_Inverse[commandLastIndex](),!0)},contextmenu=$('<div id="pre_diagram_context-menu"><ul id="diagram_context-menu"></ul></div>'),appendDiagramContextMenu=function(e,a,t){$("body").append(contextmenu),$(contextmenu).children("ul").empty();for(var n=0;n<a.length;n++)0===Object.keys(a[n]).length?$(contextmenu).children("ul").append('<li class="divider"></li>'):$(contextmenu).children("ul").append($("<li/>").append($("<div/>").data({Ikey:a[n].key,id:n}).append(a[n].title).append($("<span/>").append(a[n].icon)).bind("click",function(n){if(null!=a[$(this).data("id")].child&&"object"==typeof a[$(this).data("id")].child)return appendDiagramContextMenu(e,a[$(this).data("id")].child,null),n.preventDefault(),!1;"function"==typeof a[$(this).data("id")].event?a[$(this).data("id")].event($(this).data("id")):"function"==typeof t&&t($(this).data("Ikey"))})));if(e.offset().top+e.height()+contextmenu.height()<=$(window).height())var r=e.offset().left+e.width()/2,i=e.offset().top+e.height(),s="below";else var r=e.offset().left+e.width()/2,i=e.offset().top-contextmenu.height(),s="above";contextmenu.attr("class",s),contextmenu.css({left:r+"px",top:i+"px"}),contextmenu.addClass("active")},removeDiagramContextMenu=function(){contextmenu.remove()};$("body").bind("click contextmenu",function(){removeDiagramContextMenu()}),jQuery.fn.scrollTo=function(e,a){return $(this).animate({scrollTop:$(this).scrollTop()-$(this).offset().top+$(e).offset().top},void 0==a?1e3:a),this};var scrollToSelectedDiagram=function(){$(selectedDiagram).length&&hasSelectedDiagram&&$(".pre_startprogram").scrollTo($(selectedDiagram),500)},selectedDiagram=null,isSelectedDiagramExpr=null,hasSelectedDiagram=!1,selectDiagram=function(e,a){$(".action-viewSelectedDiagram > a").removeClass("disabled").html('<i class="fa fa-hand-pointer-o"/>*'),$(".action-viewSelectedDiagram #main-navigation .dropdown-submenu > a").html('<label class="label label-default" title="statement">s</label> '+guides[e.data("token")].name),$(selectedDiagram).length&&$(selectedDiagram).removeClass("selected"),isSelectedDiagramExpr=a,selectedDiagram=e,$(selectedDiagram).addClass("selected"),hasSelectedDiagram=!0},deleteSelectedDiagram=function(){$(selectedDiagram).length&&hasSelectedDiagram&&($(".action-viewSelectedDiagram > a").html('<i class="fa fa-hand-pointer-o"/>').addClass("disabled"),deleteDiagram(selectedDiagram),selectedDiagram=null,isSelectedDiagramExpr=null,hasSelectedDiagram=!1)},deleteDiagram=function(e){$(e).length&&(1==isSelectedDiagramExpr&&recover_token($('<li data-token="'+$(e).parent("ol").data("roottoken")+'" data-arg_type="'+$(e).parent("ol").data("roottoken").split("-")[0]+'"/>').insertAfter($item)),$(e).remove())};$("html").keyup(function(e){hasSelectedDiagram&&46==e.keyCode&&(deleteSelectedDiagram(),hasSelectedDiagram=!1)});var GuiWorkspaceDiagramManager=function(){this.execute=function(e){e.execute()}},GenerateDiagram=function(){function e(a,t){var n=dict[a].dataLabel.defOperator,r=dict[a].dataLabel.operator[n],i=dict[a].dataLabel.operatorLabel[n];return $("<li/>",{"data-token":r,class:"expr exproperator sortable-exclude"}).html("<span>"+i+"</span>").bind("contextmenu",function(n){$(this).hasClass("context")||$(this).addClass("context");var r=$(this),i=[];for(key in dict[a].dataLabel.operator)i.push({key:key,title:dict[a].dataLabel.operatorName[key],icon:dict[a].dataLabel.operatorLabel[key]});if("logicalrelational"==a){var s=function(e){$(r).prev().remove(),c(e).insertBefore(r),$(r).next().remove(),c(e).insertAfter(r)};i.push({},{title:"Ganti tipe data",icon:'<i class="diagram-sample sample-expr string"></i>',child:[{title:"Integer",icon:'<i class="diagram-sample sample-expr integer"></i>',event:function(){s("INTEGER")}},{title:"Real",icon:'<i class="diagram-sample sample-expr real"></i>',event:function(){s("REAL")}},{title:"Logical",icon:'<i class="diagram-sample sample-expr logical"></i>',event:function(){s("LOGICAL")}},{title:"String",icon:'<i class="diagram-sample sample-expr string"></i>',event:function(){s("STRING")}}]})}else if(1!=t){var o=function(a,t,n){r.parent("ol").parent("li").data("token",dict[a].dataLabel.operation[4]),r.parent("ol").parent("li").attr("data-token",dict[a].dataLabel.operation[4]),n?(e(a,t).insertBefore(r),c(a).insertBefore(r)):(e(a,t).insertAfter(r),c(a).insertAfter(r))};i.push({},{title:"Tambahkan Operand di Kanan",icon:"<i class='fa fa-arrow-right'></i>",event:function(){o(a,t+1,!1)}},{title:"Tambahkan Operand di Kiri",icon:"<i class='fa fa-arrow-left'></i>",event:function(){o(a,t+1,!0)}})}var l=function(e){r.attr("data-token",dict[a].dataLabel.operator[e]),r.data("token",dict[a].dataLabel.operator[e]),r.html("<span>"+dict[a].dataLabel.operatorLabel[e]+"</span>")};return appendDiagramContextMenu($(this),i,l),!1})}function a(e,a,t){return $("<li/>",{class:"exprvariable drop-zone"+(e?"":(t?"":" drag-zone")+" nonemptyvar"),"data-token":a.arg.toString().toUpperCase(),"data-arg_name":a.subarg[0]}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"argvariable"}).append($("<span/>",{class:"exprvariable "+(e?"varempty":"")}).text(a.subarg[0]))))}function t(e,a,t){return $("<li/>",{class:"expr exprvariable drop-zone "+(e?"":(t?"":" drag-zone")+" nonemptyvar"),"data-token":a.arg.toString().toUpperCase(),"data-arg_name":a.subarg[0]}).append($("<ol/>",{class:"groupexpression variablelist","data-roottoken":a.arg.toString().toUpperCase().split("-")[0]+"-CONSTANT"}).append($("<li/>",{class:"dummylist"})).append($("<li/>",{class:"expr sortable-exclude context"}).text(a.subarg[0])).append($("<li/>",{class:"dummylist"}).text("(")).append(c("INTEGER",0,"xmin")).append($("<li/>",{class:"dummylist"}).text(")")))}function n(e,a){if(null==a)var a=e.arg.split("-")[0].toLowerCase();return $("<div/>",{class:"no-offset col-md-12"}).append($("<div/>",{class:"row"}).append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression","data-roottoken":a.toUpperCase()+"-CONSTANT"}).append("integer"==a?r(e):"real"==a?genRealValueValue(e):"logical"==a?o(e):"string"==a?l(e):"")))}function r(e,a){switch(e.arg){case"INTEGER-CONSTANT":return c("INTEGER",e.subarg,a);case"INTEGER-ARRAY":case"INTEGER-VARIABLE":return E(e);case"INTEGER-BINARY-OPERATION":return L(2,"integer",e.subarg,"min");case"INTEGER-TERNARY-OPERATION":return L(3,"integer",e.subarg,a,"min")}}function s(e){switch(e.arg){case"REAL-CONSTANT":return c("REAL",e.subarg);case"REAL-ARRAY":case"REAL-VARIABLE":return E(e);case"REAL-BINARY-OPERATION":return L($p,2,"real",e.subarg);case"REAL-TERNARY-OPERATION":return L($p,3,"real",e.subarg)}}function o(e){switch(e.arg){case"LOGICAL-CONSTANT":return c("LOGICAL",e.subarg);case"LOGICAL-ARRAY":case"LOGICAL-VARIABLE":return E(e);case"LOGICAL-UNARY-OPERATION":
return L(1,"logical",e.subarg);case"LOGICAL-BINARY-OPERATION":return L(2,"logical",e.subarg);case"LOGICAL-TERNARY-OPERATION":return L(3,"logical",e.subarg);case"RELATIONAL-BINARY-OPERATION":return L(2,"logicalrelational",e.subarg)}}function l(e){switch(e.arg.split("-")[0]){case"INTEGER":return r(e);case"REAL":return s(e);case"LOGICAL":return o(e);case"STRING":switch(e.arg){case"STRING-CONSTANT":return c("STRING",e.subarg);case"STRING-ARRAY":case"STRING-VARIABLE":return E(e);case"STRING-BINARY-OPERATION":return buildOperation($p,2,"string",e.subarg);case"STRING-TERNARY-OPERATION":return buildOperation($p,3,"string",e.subarg)}}}function c(e,a,t){return $("<li/>",{class:"expr exprdefault sortable drop-zone","data-token":dict[e.toLowerCase()].dataLabel.constName}).append(p(e.toString().toUpperCase(),null!=a&&null!=a[0]?a[0]:null,t))}function p(e,a,t){var t=t;if(null==a)var a=dict[e.toLowerCase()].dataToken.defaultConstant;var n=$("<input/>",{type:"text","data-token":dict[e.toLowerCase()].dataLabel.constName,class:"input",value:a}).attr("size",a.toString().length>1?a.toString().length:1);return $(n).ready(function(a){window.setTimeout(function(){"STRING"!=e&&"REAL"!=e&&($(n).TouchSpin(dict[e.toLowerCase()].spinner),null!=t&&"xmin"==t?$(n).remove(".input-group-btn,.input-group-addon"):null!=t&&"min"==t&&$(n).remove(".input-group-btn,.input-group-addon"))},.1)}),$(n).on("change keydown keyup paste",function(){$(this).val().length>2?($(this).width("auto"),$(this).attr("size",$(this).val().length)):($(this).attr("size",2),$(this).width(""))}),$(n).on("click contextmenu",function(e){$(this).parent().hasClass("focus")||$(this).parent().toggleClass("focus"),$(this).focus(),e.preventDefault()}),$(n).on("blur",function(e){$(this).parent().hasClass("focus")&&$(this).parent().toggleClass("focus"),$(this).html()}),$(n).on("change paste",function(e){$(this).parent().data("value",$(this).val())}),"STRING"==e||"REAL"==e?$("<div/>",{class:"input-group"}).append($("<div/>",{class:"input-group-addon expr-input-prefix"}).text(e.toLowerCase())).append($(n)):$(n)}var d=function(e){return{arg:dict[e].dataToken.constIdentifier,subarg:[dict[e].dataToken.defaultConstant]}},u=function(e,a){if(null==a&&(a=$("<ol/>",{class:"groupstatement"})),null!=e)for(var t=0;t<e.length;t++)a.append(g(e[t]));return a};this.build=function(e,a){u(e,a)},this.genStatement=function(e){if(null!=e&&e.hasOwnProperty("token"))switch(e.token){case"IF":return m(e);case"IFELSE":return A(e);case"ITERATION0":return R(e);case"ITERATION1":return f(e);case"ITERATION2":return b(e,!1);case"ITERATION3":return b(e,!0);case"SETVAR":return T(e,!0);case"INCRVAR":return N(e,!0,!0);case"DECRVAR":return N(e,!1,!0);case"SETARRVAR":return T(e,!1);case"INCRARRVAR":return N(e,!0,!1);case"DECRARRVAR":return N(e,!1,!1);case"INPUT":return I(e);case"PRINT":return h(e,!1);case"PRINTLINE":return h(e,!0);default:return void errorHandler("gen.1",child.eq(i))}},this.genExpression=function(e,a){if(null!=e&&e.hasOwnProperty("arg"))switch(e.arg){case String(e.arg.match(/^((INTEGER|REAL|LOGICAL|STRING)\-CONSTANT)$/gi)):return v(e);case String(e.arg.match(/^(INTEGER\-(BINARY|TERNARY)|REAL\-(BINARY|TERNARY)|LOGICAL\-(UNARY|BINARY|TERNARY)|RELATIONAL\-BINARY|STRING\-(BINARY|TERNARY))\-OPERATION$/gi)):return L(a.arity,a.type,e.subarg);case String(e.arg.match(/^((ANY|INTEGER|REAL|LOGICAL|STRING)\-VARIABLE)$/gi)):case String(e.arg.match(/^((INTEGER|REAL|LOGICAL|STRING)\-ARRAY)$/gi)):return E(e);default:return void errorHandler("gen.1",child.eq(i))}};var g=function(e){if(null!=e&&e.hasOwnProperty("token"))switch(e.token){case"IF":return m(e);case"IFELSE":return A(e);case"ITERATION0":return R(e);case"ITERATION1":return f(e);case"ITERATION2":return b(e,!1);case"ITERATION3":return b(e,!0);case"SETVAR":return T(e,!0);case"INCRVAR":return N(e,!0,!0);case"DECRVAR":return N(e,!1,!0);case"SETARRVAR":return T(e,!1);case"INCRARRVAR":return N(e,!0,!1);case"DECRARRVAR":return N(e,!1,!1);case"INPUT":return I(e);case"PRINT":return h(e,!1);case"PRINTLINE":return h(e,!0);default:return void errorHandler("gen.1",child.eq(i))}},m=function(e){return e.hasOwnProperty("arg")||(e.arg=[d("logical")]),e.hasOwnProperty("subtoken")||(e.subtoken=[]),$("<li/>",{class:"kondisi block-statement","data-token":"IF"}).append($("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("JIKA")).append($("<span/>").append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression"}).append(n(e.arg[0],"logical"))))).append(u(e.subtoken[0])).append('<span class="block-statement-endline">akhir if <i class="fa fa-level-down"/></span>')},A=function(e){return e.hasOwnProperty("arg")||(e.arg=[d("logical")]),e.hasOwnProperty("subtoken")||(e.subtoken=[]),$("<li/>",{class:"kondisi block-statement","data-token":"IFELSE"}).append($("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("JIKA")).append($("<span/>").append(n(e.arg[0],"logical")))).append(u(e.subtoken[0])).append('<span class="block-statement-endline middle">jika tidak benar <i class="fa fa-level-down"/></span>').append(u(e.subtoken[1])).append('<span class="block-statement-endline">akhir if <i class="fa fa-level-down"/></span>')},R=function(e){return e.hasOwnProperty("arg")||(e.arg=[d("integer")]),e.hasOwnProperty("subtoken")||(e.subtoken=[]),$("<li/>",{class:"block-statement perulangan","data-token":"ITERATION0"}).append($("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("ITERASI SEBANYAK")).append($("<span/>",{class:"commandText"}).append(n(e.arg[0],"integer"))).append($("<span/>",{class:"commandText"}).text("KALI"))).append(u(e.subtoken[0])).append('<span class="block-statement-endline"><i class="fa fa-level-up"/></span>')},f=function(e){return e.hasOwnProperty("arg")||(e.arg=[d("logical")]),e.hasOwnProperty("subtoken")||(e.subtoken=[]),$("<li/>",{class:"block-statement perulangan","data-token":"ITERATION1"}).append($("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("ITERASI SELAMA KONDISI")).append($("<span/>").append(n(e.arg[0],"logical")))).append(u(e.subtoken[0])).append('<span class="block-statement-endline"><i class="fa fa-level-up"/></span>')},b=function(e,a){e.hasOwnProperty("arg")||(e.arg=[{arg:"INTEGER-VARIABLE",subarg:[]},d("integer"),d("integer")],a&&e.arg.push(d("integer"))),e.hasOwnProperty("subtoken")||(e.subtoken=[]);var t=$("<li/>",{class:"block-statement perulangan","data-token":a?"ITERATION3":"ITERATION2"}),r=$("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("ITERASI")).append($("<span/>").append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression nodragexpr","data-roottoken":e.arg[0].arg}).append(E(e.arg[0])))).append($("<span/>",{class:"commandText"}).text("DARI")).append($("<span/>").append(n(e.arg[1],"integer"))).append($("<span/>",{class:"commandText"}).text("HINGGA")).append($("<span/>").append(n(e.arg[2],"integer")));return a&&r.append($("<span/>",{class:"commandText"}).text("DALAM")).append($("<span/>",{class:"commandText"}).append(n(e.arg[3],"integer"))).append($("<span/>",{class:"commandText"}).text("LANGKAH")),t.append(r).append(u(e.subtoken[0])).append('<span class="block-statement-endline"><i class="fa fa-level-up"/></span>'),t},h=function(e,a){e.hasOwnProperty("arg")||(e.arg=[d("string")]);var t=$("<li/>",{class:"statement output","data-token":a?"PRINTLINE":"PRINT"}),r=$("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("CETAK")).append($("<span/>").append(n(e.arg[0],"string")));return a&&r.append($("<span/>").append($('<i class="fa fa-level-down" style="-webkit-transform: rotate(90deg)"></i>'))),t.append($(r)),t},I=function(e){e.hasOwnProperty("arg")||(e.arg=[{arg:"ANY-VARIABLE",subarg:[]}]);var a=$("<li/>",{class:"statement input","data-token":"INPUT"}),t=$("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("INPUT")).append($("<span/>").append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression","data-roottoken":"ANY-VARIABLE"}).append(E(e.arg[0]))));return a.append($(t)),a},T=function(e,a){return e.hasOwnProperty("arg")&&null!=e.arg[0]?(null==e.arg[1]&&(e.arg[1]=d(e.arg[0].arg.split("-")[0].toLowerCase())),$("<li/>",{class:"statement variabel","data-token":a?"SETVAR":"SETARRVAR"}).append($("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append("NILAI")).append($("<span/>").append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression nodragexpr"}).append(E(e.arg[0],!0)))).append($("<span/>",{class:"commandText"}).text("=")).append($("<span/>").append(n(e.arg[1]))))):null},N=function(e,a,t){if(!e.hasOwnProperty("arg")||null==e.arg[0])return null;null==e.arg[1]&&(e.arg[1]=d(e.arg[0].arg.split("-")[0].toLowerCase()));var r=$("<li/>",{class:"statement variabel","data-token":t?a?"INCRVAR":"DECRVAR":a?"INCRARRVAR":"DECRARRVAR"}),i=$("<div/>",{class:"arg"}).append($("<span/>",{class:"commandText"}).append($("<span/>").html('<i class="fa fa-bars statement--handle"/>')).append(a?"TAMBAHKAN":"KURANGI")).append($("<span/>").append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression nodragexpr"}).append(E(e.arg[0],!0)))).append($("<span/>",{class:"commandText"}).text("SEBESAR")).append($("<span/>").append(n(e.arg[1])));return r.append($(i)),r},E=function(e,n){var r=!1;return null==e.subarg[0]&&(e.arg=e.arg.split("-")[0]+"-VARIABLE",e.subarg[0]="Nama Variabel",r=!0),"ARRAY"==e.arg.split("-")[1]?t(r,e,n):a(r,e,n)},v=function(e){switch(e.arg.split("-")[0]){case"INTEGER":return r(e);case"REAL":return s(e);case"LOGICAL":case"RELATIONAL":return o(e);case"STRING":return l(e)}},L=function(a,t,n,r){var i=dict[t].dataLabel.operation[a],s=dict[t].dataLabel.defOperator;dict[t].dataLabel.operator[s],dict[t].dataLabel.operatorLabel[s];null==n&&(n=[]);for(var o=0;o<2*a-1;o++)o%2==0&&null==n[o]?n[o]=d(t.toLowerCase()):null==n[o]&&(n[o]=dict[t].dataLabel.operator[s]);if(null==a||null==t||n.length!=2*a-1)return!1;for(var l=$("<ol/>",{class:"groupexpression operation","data-roottoken":dict[t].dataLabel.constName}).append($("<li/>",{class:"dummylist"})).append(1==a?$("<li/>",{"data-token":dict[t].dataLabel.operatorNot.NOT,class:"expr exproperator sortable-exclude"}).html("<span>"+dict[t].dataLabel.operatorLabel.NOT+"</span>").bind("contextmenu",function(e){$(this).hasClass("context")||$(this).addClass("context");var a=$(this),n=[];for(key in dict[t].dataLabel.operatorNot)n.push({key:key,title:dict[t].dataLabel.operatorName[key],icon:dict[t].dataLabel.operatorLabel[key]});var r=function(e){a.attr("data-token",dict[t].dataLabel.operatorNot[e]),a.data("token",dict[t].dataLabel.operatorNot[e]),a.html("<span>"+dict[t].dataLabel.operatorLabel[e]+"</span>")};return appendDiagramContextMenu($(this),n,r),!1}):"").append(v(n[0])),o=1;o<a;o++)l.append(e(t,a)).append(v(n[2*o]));return l.append($("<li/>",{class:"dummylist"})),$("<li/>",{class:"expr sortable drag-zone","data-token":i,"data-arg_type":t,"data-arg_arity":a}).append(l)}},GuiToolboxDiagram=function(){var e=function(){return $item=$("<li/>",{"data-token":"IF",class:"block-statement kondisi statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("JIKA")).append($("<span/>",{title:"Nilai Logical (Boolean)",class:"exprdefault","data-token":"LOGICAL-CONSTANT"}).text("NB"))).append('<span class="block-statement-endline">akhir if <i class="fa fa-level-down"/></span>'),$item},a=function(){return $item=$("<li/>",{"data-token":"IFELSE",class:"block-statement kondisi statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("JIKA")).append($("<span/>",{title:"Nilai Logical (Boolean)",class:"exprdefault","data-token":"LOGICAL-CONSTANT"}).text(dict.logical.dataLabel.consLabel))).append('<span class="block-statement-endline" style="margin-bottom:10px">jika tidak benar <i class="fa fa-level-down"/></span><br/>').append('<span class="block-statement-endline">akhir if <i class="fa fa-level-down"/></span>'),$item},t=function(){return $item=$("<li/>",{"data-token":"ITERATION0",class:"block-statement perulangan statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("ITERASI SEBANYAK")).append($("<span/>",{title:"Nilai Integer",class:"exprdefault","data-token":"INTEGER-CONSTANT"}).text(dict.integer.dataLabel.consLabel)).append($("<span/>",{class:"commandText"}).text("KALI"))).append('<span class="block-statement-endline"><i class="fa fa-level-up"/></span>'),$item},n=function(){return $item=$("<li/>",{"data-token":"ITERATION1",class:"block-statement perulangan statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("ITERASI SELAMA KONDISI")).append($("<span/>",{title:"Nilai Logical (Boolean)",class:"exprdefault","data-token":"LOGICAL-CONSTANT"}).text(dict.logical.dataLabel.consLabel))).append('<span class="block-statement-endline"><i class="fa fa-level-up"/></span>'),$item},r=function(e){return $item=$("<li/>",{"data-token":e?"ITERATION3":"ITERATION2",class:"block-statement perulangan statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("ITERASI")).append($("<span/>",{title:"Variabel Integer",class:"exprdefault","data-token":"INTEGER-CONSTANT"}).text(dict.integer.dataLabel.varLabel)).append($("<span/>",{class:"commandText"}).text("DARI")).append($("<span/>",{title:"Nilai Integer",class:"exprdefault","data-token":"INTEGER-CONSTANT"}).text(dict.integer.dataLabel.consLabel)).append($("<span/>",{class:"commandText"}).text("HINGGA")).append($("<span/>",{title:"Nilai Integer",class:"exprdefault","data-token":"INTEGER-CONSTANT"}).text(dict.integer.dataLabel.consLabel))).append('<span class="block-statement-endline"><i class="fa fa-level-up"/></span>'),e&&$item.children(".arg.definition").append($("<span/>",{class:"commandText"}).text("DALAM")).append($("<span/>",{title:"Nilai Integer",class:"exprdefault","data-token":"INTEGER-CONSTANT"}).text(dict.integer.dataLabel.consLabel)).append($("<span/>",{class:"commandText"}).text("LANGKAH")),$item},i=function(e){return $("<li/>",{"data-token":"SETVAR","data-arg_name":e.name,"data-arg_type":e.type,class:"statement variabel statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("NILAI")).append($("<span/>",{class:"argvariable"}).append($("<span/>",{class:"exprvariable"}).text(e.name))).append($("<span/>",{class:"commandText"}).text("=")).append($("<span/>",{title:dict[e.type].dataLabel.consFullLabel,class:"exprdefault","data-token":e.type.toUpperCase()+"-CONSTANT"}).text(dict[e.type].dataLabel.consLabel)))},s=function(e,a){return $("<li/>",{"data-token":e?"INCRVAR":"DECRVAR","data-arg_name":a.name,"data-arg_type":a.type,class:"statement variabel statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text(e?"TAMBAHKAN":"KURANGI")).append($("<span/>",{class:"argvariable"}).append($("<span/>",{class:"exprvariable"}).text(a.name))).append($("<span/>",{class:"commandText"}).text("SEBESAR")).append($("<span/>",{title:dict[a.type].dataLabel.consFullLabel,class:"exprdefault","data-token":a.type.toUpperCase()+"-CONSTANT"}).text(dict[a.type].dataLabel.consLabel)))},o=function(e){return $("<li/>",{"data-token":dict[e.type].dataLabel.varName,"data-arg_name":e.name,"data-arg_type":e.type,class:"sortable variable"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"argvariable"}).append($("<span/>",{class:"exprvariable"}).text(e.name))))},l=function(e){return $item=$("<li/>",{"data-token":"SETARRVAR","data-arg_name":e.name,"data-arg_type":e.type,class:"statement variabel statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("NILAI")).append($("<span/>",{class:"argvariable"}).append($("<span/>",{class:"exprvariable"}).append($("<span/>",{class:"varname"}).text(e.name)).append($("<span/>",{class:"varidx"}).append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression"}).append($("<li/>",{"data-token":"INTEGER-CONSTANT",class:"expr exprdefault arridx sortable"}).append($("<div/>",{class:"no-offset col-md-12"}).append($("<div/>",{class:"row"}).append($("<div/>",{class:"input-group"}).append($("<input/>",{type:"text","data-token":"INTEGER-CONSTANT",class:"input",value:0}).on("contextmenu",function(e){$(this).parent().hasClass("focus")||$(this).parent().toggleClass("focus"),$(this).focus(),e.preventDefault()}).on("change keydown paste",function(){$(this).val().length>2?($(this).width("auto"),$(this).attr("size",$(this).val().length)):$(this).width("")})))))))))).append($("<span/>",{class:"commandText"}).text("=")).append($("<span/>",{title:dict[e.type].dataLabel.consFullLabel,class:"exprdefault","data-token":e.type.toUpperCase()+"-CONSTANT"}).text(dict[e.type].dataLabel.consLabel))),$item},c=function(e,a){return $item=$("<li/>",{"data-token":e?"INCRARRVAR":"DECRARRVAR","data-arg_name":a.name,"data-arg_type":a.type,class:"statement variabel statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text(e?"TAMBAHKAN":"KURANGI")).append($("<span/>",{class:"argvariable"}).append($("<span/>",{class:"exprvariable"}).append($("<span/>",{class:"varname"}).text(a.name)).append($("<span/>",{class:"varidx"}).append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression"}).append($("<li/>",{"data-token":"INTEGER-CONSTANT",class:"expr exprdefault arridx sortable"}).append($("<div/>",{class:"no-offset col-md-12"}).append($("<div/>",{class:"row"}).append($("<div/>",{class:"input-group"}).append($("<input/>",{type:"text","data-token":"INTEGER-CONSTANT",class:"input",value:0}).on("contextmenu",function(e){$(this).parent().hasClass("focus")||$(this).parent().toggleClass("focus"),$(this).focus(),e.preventDefault()}).on("change keydown paste",function(){$(this).val().length>2?($(this).width("auto"),$(this).attr("size",$(this).val().length)):$(this).width("")})))))))))).append($("<span/>",{class:"commandText"}).text("SEBESAR")).append($("<span/>",{title:dict[a.type].dataLabel.consFullLabel,class:"exprdefault","data-token":a.type.toUpperCase()+"-CONSTANT"}).text(dict[a.type].dataLabel.consLabel))),$item},p=function(e){return $item=$("<li/>",{"data-token":dict[e.type].dataLabel.arrName,"data-arg_name":e.name,"data-arg_type":e.type,class:"sortable variable"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"argvariable"}).append($("<span/>",{class:"exprvariable"}).append($("<span/>",{class:"varname"}).text(e.name)).append($("<span/>",{class:"varidx"}).append($("<ol/>",{id:"wbox--expr",class:"groupexpression startexpression"}).append($("<li/>",{"data-token":"INTEGER-CONSTANT",class:"expr exprdefault arridx sortable"}).append($("<div/>",{class:"no-offset col-md-12"}).append($("<div/>",{class:"row"}).append($("<div/>",{class:"input-group"}).append($("<input/>",{type:"text","data-token":"INTEGER-CONSTANT",class:"input",value:0}).on("contextmenu",function(e){$(this).parent().hasClass("focus")||$(this).parent().toggleClass("focus"),$(this).focus(),e.preventDefault()}).on("change keydown paste",function(){$(this).val().length>2?($(this).width("auto"),$(this).attr("size",$(this).val().length)):$(this).width("")}))))))))))),$item},d=function(){return $item=$("<li/>",{"data-token":"INPUT",class:"statement input statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("INPUT")).append($("<span/>",{title:"Variabel",class:"exprdefault","data-token":"ANY-VARIABLE"}).text("V"))),$item},u=function(e){return $item=$("<li/>",{"data-token":e?"PRINTLINE":"PRINT",class:"statement output statement--handle"}).append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"commandText"}).text("CETAK")).append($("<span/>",{title:"Nilai String",class:"exprdefault","data-token":"STRING-CONSTANT"}).text("NS")).append(e?$("<span/>").append($('<i class="fa fa-level-down" style="-webkit-transform: rotate(90deg)"></i>')):"")),$item},g=function(e){var a=$("<li/>",{"data-token":dict[e.type].dataLabel.operation[e.arity],class:"sortable operation","data-arg_type":e.type,"data-arg_arity":e.arity});return 1==e.arity?a.append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"exproperator"}).text("?")).append($("<span/>",{class:"exprdefault",title:dict[e.type].dataLabel.consFullLabel,"data-token":dict[e.type].dataLabel.constName}).text(dict[e.type].dataLabel.consLabel))):2==e.arity?a.append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"exprdefault",title:dict[e.type].dataLabel.consFullLabel,"data-token":dict[e.type].dataLabel.constName}).text(dict[e.type].dataLabel.consLabel)).append($("<span/>",{class:"exproperator"}).text("?")).append($("<span/>",{class:"exprdefault",title:dict[e.type].dataLabel.consFullLabel,"data-token":dict[e.type].dataLabel.constName}).text(dict[e.type].dataLabel.consLabel))):3==e.arity&&a.append($("<div/>",{class:"arg definition"}).append($("<span/>",{class:"exprdefault",title:dict[e.type].dataLabel.consFullLabel,"data-token":dict[e.type].dataLabel.constName}).text(dict[e.type].dataLabel.consLabel)).append($("<span/>",{class:"exproperator"}).text("?")).append($("<span/>",{class:"exprdefault",title:dict[e.type].dataLabel.consFullLabel,"data-token":dict[e.type].dataLabel.constName}).text(dict[e.type].dataLabel.consLabel)).append($("<span/>",{class:"exproperator"}).text("?")).append($("<span/>",{class:"exprdefault",title:dict[e.type].dataLabel.consFullLabel,"data-token":dict[e.type].dataLabel.constName}).text(dict[e.type].dataLabel.consLabel))),a};this.genGroupCondition=function(t){return!!t&&!!t.append(e()).append(a())},this.genGroupLooping=function(e){return!!e&&!!e.append(t()).append(n()).append(r()).append(r(!0))},this.genGroupVariable=function(e,a){if(!e||null==a.type||null==a.name)return!1;if(a.isStatement)switch(a.type){case"integer":case"real":if(e.append(i({name:a.name,type:a.type})).append(s(!0,{name:a.name,type:a.type})).append(s(!1,{name:a.name,type:a.type})))return!0;break;case"string":case"logical":if(e.append(i({name:a.name,type:a.type})))return!0}else if(e.append(o({name:a.name,type:a.type})))return!0;return!1},this.genGroupArray=function(e,a){if(!e||!a.type||!a.name)return!1;if(a.isStatement)switch(a.type){case"integer":case"real":if(e.append(l({name:a.name,type:a.type})).append(c(!0,{name:a.name,type:a.type})).append(c(!1,{name:a.name,type:a.type})))return!0;break;case"string":case"logical":if(e.append(l({name:a.name,type:a.type})))return!0}else if(e.append(p({name:a.name,type:a.type})))return!0;return!1},this.genGroupOutput=function(e){return!!e&&!!e.append(d()).append(u(!1)).append(u(!0))},this.genGrupOperations=function(e,a){if(!e||!a.type||!a.class)return!1;switch(a.type){case"integer":if(e.append(g({type:a.type,arity:2})).append(g({type:a.type,arity:3})))return!0;case"real":if(e.append(g({type:a.type,arity:2})).append(g({type:a.type,arity:3})))return!0;break;case"logical":if(e.append(g({type:a.type,arity:1})).append(g({type:a.type,arity:2})).append(g({type:a.type,arity:3})))return!0;break;case"logicalrelational":case"string":if(e.append(g({type:a.type,arity:2})))return!0}return!1}},INIT_GUI=function(e,a,t){this.execute=function(){e.build(a,t)}},TBOX_CONDITION=function(e,a){this.execute=function(){e.genGroupCondition(a)}},TBOX_LOOPING=function(e,a){this.execute=function(){e.genGroupLooping(a)}},TBOX_VARIABLE=function(e,a,t){this.execute=function(){e.genGroupVariable(a,t)}},TBOX_ARRAY=function(e,a,t){this.execute=function(){e.genGroupArray(a,t)}},TBOX_INPUTOUTPUT=function(e,a){this.execute=function(){e.genGroupOutput(a)}},TBOX_OPERATIONS=function(e,a,t){this.execute=function(){e.genGrupOperations(a,t)}},ADD_DIAGRAM=function(e,a,t,n,r){this.execute=function(){"statement"==a?n.replaceWith(e.genStatement(t)):"expression"==a&&n.replaceWith(e.genExpression(t,r))}},MOV_DIAGRAM=function(e,a,t,n){this.execute=function(){$itemReference.replaceWith(e.genStatement(a))}},DEL_DIAGRAM=function(e,a,t){this.execute=function(){t.replaceWith(e.genStatement(a))}},IF=function(e,a){this.execute=function(){a.replaceWith(e.genIf({}))}},IFELSE=function(e,a){this.execute=function(){a.replaceWith(e.genIfElse({}))}},ITERATION1=function(e,a){this.execute=function(){a.replaceWith(e.genIteration1({}))}},ITERATION2=function(e,a){this.execute=function(){a.replaceWith(e.genIteration2({},!1))}},ITERATION3=function(e,a){this.execute=function(){a.replaceWith(e.genIteration2({},!0))}},SETVAR=function(e,a,t){this.execute=function(){t.replaceWith(e.genSetVar({},!0))}},INCREMENTVAR=function(e,a,t){this.execute=function(){t.replaceWith(e.genIncrDecrVar({},!0,!0))}},DECREMENTVAR=function(e,a,t){this.execute=function(){t.replaceWith(e.genIncrDecrVar({},!1,!0))}},SETARRVAR=function(e,a,t){this.execute=function(){t.replaceWith(e.genSetVar({},!1))}},INCREMENTARRVAR=function(e,a,t){this.execute=function(){t.replaceWith(e.genIncrDecrArr({},!0,!1))}},DECREMENTARRVAR=function(e,a,t){this.execute=function(){t.replaceWith(e.genIncrDecrArr({},!1,!1))}},INPUT=function(e,a){this.execute=function(){a.replaceWith(e.genInput({}))}},PRINT=function(e,a){this.execute=function(){a.replaceWith(e.genPrint({},!1))}},PRINTLINE=function(e,a){this.execute=function(){a.replaceWith(e.genPrint({},!0))}},CONSTANT=function(e,a,t){this.execute=function(){GuiWorkspaceDiagram.genExprConstant(a,t)},this.execute=function(){t.replaceWith(e.genIf({}))}},OPERATIONS=function(e,a,t){this.execute=function(){e.genExprOperation(a,t)},this.execute=function(){t.replaceWith(GenerateDiagram.genIf({}))}},VARIABLE=function(e,a,t){this.execute=function(){e.genExprVar(a,t)},this.execute=function(){t.replaceWith(GenerateDiagram.genIf({}))}},ARRAY=function(e,a,t){this.execute=function(){e.genExprArr(a,t)},this.execute=function(){t.replaceWith(GenerateDiagram.genIf({}))}},Gui=function(){var e,a,t,n,r,i=function(){function e(){if(A=controlVariable.getCode().variable,$(m).append([$("<optgroup/>",{class:"varlist optgroup-integer",label:"Integer"}),$("<optgroup/>",{class:"varlist optgroup-real",label:"Real"}),$("<optgroup/>",{class:"varlist optgroup-string",label:"String"}),$("<optgroup/>",{class:"varlist optgroup-logical",label:"Logical"})]),_.size(A)>0){for(var e in A){var a=A[e].type;$(m).first().children("optgroup.optgroup-"+a).append($("<option/>",{"data-content":R.format(e,a),value:e}))}l()}else s();$(m).selectpicker(),t()}function t(){$(u).on("submit",function(e){e.preventDefault();var a=$(this).find("input[name=addVarname]").val(),t=$(this).find("input[name=optVartype]:checked").val();return null==a||null==t?void $(this).find(".errMessage").show().html("<b>Nama variabel</b> atau <b>tipe variabel</b> tidak boleh kosong"):c({name:a,type:t})?(n({name:a,type:t}),void $("#CreateVarModal").modal("hide")):void $(this).find(".errMessage").show().html("Variabel tidak valid")}),$("#CreateVarModal").on("hidden.bs.modal",function(){$(this).find(".btn.btn-primary").removeClass("active"),$(this).find("input[type=text]").val(""),$(this).find("input[type=radio]").removeAttr("checked")}),$("#DeleteVarModal").on("show.bs.modal",function(){var e=$(m).selectpicker("val");if(null!=A[e]){var a=A[e].type,t=A[e].type;$(this).find("._vname").text(a),$(this).find("._vtype").text(t),$(this).find(".errMessage").text("")}else $(this).find(".errMessage").text("Gagal menghapus variabel")}),$(g).on("submit",function(e){e.preventDefault();var t=$(m).selectpicker("val");return a.find('li[data-arg_name="'+t+'"]').length>0?void $(this).find(".errMessage").show().text("Gagal menghapus variabel. Masih terdapat perintah yang berhubungan dengan variabel ini pada program utama"):0==_.size(A)?void $(this).find(".errMessage").text("Gagal menghapus variabel"):null==A[t]?void $(this).find(".errMessage").text("Gagal menghapus variabel"):(r(t),void $("#DeleteVarModal").modal("hide"))}),_.size(A)>0&&p(),$(m).on("change",p)}function n(e){$(m).first().children("optgroup.optgroup-"+e.type).append($("<option/>",{"data-content":R.format(e.name,e.type),value:e.name})),$(m).selectpicker("refresh"),A[e.name]=controlVariable.declareVariable(e),1==controlVariable.getLenVariable()&&(p(),l())}function r(e){controlVariable.delVariable(e)&&(delete A[e],$(m).find("[value="+e+"]").remove(),$(m).selectpicker("refresh"),controlVariable.getLenVariable()<=0?(s(),$("#tbox--variabel").eq(0).empty(),$("#tbox--variabel").eq(1).empty()):p())}function i(){A={},$(m).selectpicker("destroy"),$(m).empty(),controlVariable.destroy(),controlArray.destroy()}function s(){$("#toolbox_variabel #varlist").addClass("disabled"),d=!0}function l(){$("#toolbox_variabel #varlist").removeClass("disabled"),d=!1}function c(e){return null==A[e.name]&&!!e.type.match(/^(integer|real|logical|string)$/gi)}function p(){var e=$(m).selectpicker("val"),a=A[e].type;$("#tbox--variabel .tbx-data-variable").data({name:e,type:a}),$("#tbox--variabel .exprvariable").text(e),$("#tbox--variabel li.sortable.variable").attr("data-token",(a+"-variable").toUpperCase()),o.tboxvariable({name:e,type:a})}var d,u="#CreateVarModal #variableCreation",g="#DeleteVarModal #variableDelete",m="#toolbox_variabel .select2-varlist:eq(0)",A={},R="<div class='varlist var'>{0} <span class='label label-primary datatype'>{1}</span></div>";return{init:e,destroy:i}}(),s=function(){function e(){if(A=controlArray.getCode().array,$(m).append([$("<optgroup/>",{class:"varlist optgroup-integer",label:"Integer"}),$("<optgroup/>",{class:"varlist optgroup-real",label:"Real"}),$("<optgroup/>",{class:"varlist optgroup-string",label:"String"}),$("<optgroup/>",{class:"varlist optgroup-logical",label:"Logical"})]),_.size(A)>0){for(var e in A){var a=A[e].type;$(m).first().children("optgroup.optgroup-"+a).append($("<option/>",{"data-content":R.format(e,a),value:e}))}l()}else s();$(m).selectpicker(),t()}function t(){$(u).on("submit",function(e){e.preventDefault();var a=$(this).find("input[name=addVarname]").val(),t=$(this).find("input[name=optVartype]:checked").val();return null==a||null==t?void $(this).find(".errMessage").show().html("<b>Nama variabel</b> atau <b>tipe variabel</b> tidak boleh kosong"):c({name:a,type:t})?(n({name:a,type:t}),void $("#CreateArrModal").modal("hide")):void $(this).find(".errMessage").show().html("Variabel tidak valid")}),$("#CreateArrModal").on("hidden.bs.modal",function(){$(this).find(".btn.btn-primary").removeClass("active"),$(this).find("input[type=text]").val(""),$(this).find("input[type=radio]").removeAttr("checked")}),$("#DeleteArrModal").on("show.bs.modal",function(){var e=$(m).selectpicker("val");if(null!=A[e]){var a=A[e].type,t=A[e].type;$(this).find("._vname").text(a),$(this).find("._vtype").text(t),$(this).find(".errMessage").text("")}else $(this).find(".errMessage").text("Gagal menghapus variabel")}),$(g).on("submit",function(e){e.preventDefault();var t=$(m).selectpicker("val");return a.find('li[data-arg_name="'+t+'"]').length>0?void $(this).find(".errMessage").show().text("Gagal menghapus variabel. Masih terdapat perintah yang berhubungan dengan variabel ini pada program utama"):0==_.size(A)?void $(this).find(".errMessage").text("Gagal menghapus variabel"):null==A[t]?void $(this).find(".errMessage").text("Gagal menghapus variabel"):(r(t),void $("#DeleteArrModal").modal("hide"))}),_.size(A)>0&&p(),
$(m).on("change",p)}function n(e){$(m).first().children("optgroup.optgroup-"+e.type).append($("<option/>",{"data-content":R.format(e.name,e.type),value:e.name})),$(m).selectpicker("refresh"),A[e.name]=controlArray.declareArray(e),1==controlArray.getLenArray()&&(p(),l())}function r(e){controlArray.delArray(e)&&(delete A[e],$(m).find("[value="+e+"]").remove(),$(m).selectpicker("refresh"),controlArray.getLenArray()<=0&&A<=0?(s(),$("#tbox--list").eq(0).empty(),$("#tbox--list").eq(1).empty()):p())}function i(){A={},$(m).selectpicker("destroy"),$(m).empty(),controlArray.destroy()}function s(){$("#toolbox_list #varlist").addClass("disabled"),d=!0}function l(){$("#toolbox_list #varlist").removeClass("disabled"),d=!1}function c(e){return null==A[e.name]&&!!e.type.match(/^(integer|real|logical|string)$/gi)}function p(){var e=$(m).selectpicker("val"),a=A[e].type;$("#tbox--list .tbx-data-variable").data({name:e,type:a}),$("#tbox--list .exprvariable").text(e),$("#tbox--list li.sortable.variable").attr("data-token",(a+"-variable").toUpperCase()),o.tboxarray({name:e,type:a})}var d,u="#CreateArrModal #variableCreation",g="#DeleteArrModal #variableDelete",m="#toolbox_list .select2-arrlist:eq(0)",A={},R="<div class='varlist var'>{0} <span class='label label-primary datatype'>{1}</span></div>";return{init:e,destroy:i}}(),o=function(){var e=new GuiWorkspaceDiagramManager,a=function(){e.execute(new TBOX_CONDITION(new GuiToolboxDiagram,$("#tbox--percabangan"))),e.execute(new TBOX_LOOPING(new GuiToolboxDiagram,$("#tbox--perulangan"))),e.execute(new TBOX_INPUTOUTPUT(new GuiToolboxDiagram,$("#tbox--output"))),r({type:"real",class:"aritmetic"}),r({type:"logical",class:"logical"}),r({type:"logicalrelational",class:"relational"}),r({type:"string",class:"string"}),r({type:"integer",class:"aritmetic"})},t=function(a){return!!(a&&a.name&&a.type)&&($("#tbox--list.tboxstatement,#tbox--list.tboxexpression").html(""),e.execute(new TBOX_ARRAY(new GuiToolboxDiagram,$("#tbox--list.tboxstatement"),{isStatement:!0,name:a.name,type:a.type})),e.execute(new TBOX_ARRAY(new GuiToolboxDiagram,$("#tbox--list.tboxexpression"),{isStatement:!1,name:a.name,type:a.type})),!0)},n=function(a){return!!(a&&a.name&&a.type)&&($("#tbox--variabel.tboxstatement,#tbox--variabel.tboxexpression").html(""),e.execute(new TBOX_VARIABLE(new GuiToolboxDiagram,$("#tbox--variabel.tboxstatement"),{isStatement:!0,name:a.name,type:a.type})),e.execute(new TBOX_VARIABLE(new GuiToolboxDiagram,$("#tbox--variabel.tboxexpression"),{isStatement:!1,name:a.name,type:a.type})),!0)},r=function(a){return!!(a&&a.type&&a.class)&&($("#tbox--operations").html(""),e.execute(new TBOX_OPERATIONS(new GuiToolboxDiagram,$("#tbox--operations."+a.class+"."+a.type),{type:a.type,class:a.class})),!0)};return{default:a,tboxvariable:n,tboxarray:t,tboxoperator:r}}(),l=function(){function r(e){switch(e.data("token")){case"IF":case"IFELSE":case"ITERATION0":case"ITERATION1":case"ITERATION2":case"ITERATION3":case"PRINT":case"PRINTLINE":case"INPUT":var a={token:e.data("token")};s.execute(new ADD_DIAGRAM(new GenerateDiagram,"statement",a,e));break;case"SETVAR":case"INCRVAR":case"DECRVAR":var a={token:e.data("token"),arg:[{arg:dict[e.data("arg_type")].dataLabel.varName,subarg:[e.data("arg_name")]}]};s.execute(new ADD_DIAGRAM(new GenerateDiagram,"statement",a,e));break;case"SETARRVAR":case"INCRARRVAR":case"DECRARRVAR":var a={token:e.data("token"),arg:[{arg:dict[e.data("arg_type")].dataLabel.arrName,subarg:[e.data("arg_name")]}]};s.execute(new ADD_DIAGRAM(new GenerateDiagram,"statement",a,e));break;case String(e.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-CONSTANT)$/gi)):var a={arg:e.data("token")};s.execute(new ADD_DIAGRAM(new GenerateDiagram,"expression",a,e));break;case String(e.data("token").match(/^(INTEGER\-(BINARY|TERNARY)|REAL\-(BINARY|TERNARY)|LOGICAL\-(UNARY|BINARY|TERNARY)|RELATIONAL\-BINARY|STRING\-(BINARY|TERNARY))\-OPERATION$/gi)):var a={arg:e.data("token"),subarg:[]},t={type:e.data("arg_type"),arity:e.data("arg_arity")};s.execute(new ADD_DIAGRAM(new GenerateDiagram,"expression",a,e,t));break;case String(e.data("token").match(/^((ANY|INTEGER|REAL|LOGICAL|STRING)\-VARIABLE)$/gi)):var a={arg:e.data("token"),subarg:[null!=e.data("arg_name")?e.data("arg_name"):null]};s.execute(new ADD_DIAGRAM(new GenerateDiagram,"expression",a,e));break;case String(e.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-ARRAY)$/gi)):var a={arg:e.data("token"),subarg:[e.data("arg_name")]};s.execute(new ADD_DIAGRAM(new GenerateDiagram,"expression",a,e));break;default:return e.remove(),!1}return interact("li.drag-zone",{context:e.parent()}).draggable(f),interact("li.drop-zone",{context:e}).dropzone(b),e}var i=(new Date).getTime(),s=new GuiWorkspaceDiagramManager,l={STATEMENT:{value:0,TBOX:{value:0,DRAGGED:{value:1},DROPPED:{value:0}},GROUP:{value:1,DRAGGED:{value:1},DROPPED:{value:0}}},EXPRESSION:{value:1,TBOX:{value:0,DRAGGED:{value:1},DROPPED:{value:0}},GROUP:{value:1,DRAGGED:{value:1},DROPPED:{value:0}}},IDDLE:{value:-1}},c={OPERATION:0,VARIABLE:1,ARRAY:1},p={INTEGER:0,REAL:1,LOGICAL:2,RELATIONAL:2,STRING:3},d={codeGuide:function(e){window.dd2.changeTab("PANDUAN",function(){window.dd2.changeOptionalPlaceholder("PANDUAN",' : <span class="badge">'+guides[e].name+"</span>"),window.dd2.spesificIndex("PANDUAN").tab("show")}),$("#output #guide_helper .code").removeClass("shown"),$("#output #guide_helper ."+e).addClass("shown")},group:"groupstatement"+i,containerSelector:"ol",pullPlaceholder:!1,nested:!1,itemSelector:"li.statement, li.block-statement",handle:".statement--handle",drop:!1,onMousedown:function(e,a,t){if(l.IDDLE&&!t.target.nodeName.match(/^(input|select)$/i))return $(t.delegateTarget).hasClass("groupstatement")?selectDiagram(e,!1):$(t.delegateTarget).hasClass("tboxstatement")&&this.codeGuide(e.data("token")),t.preventDefault(),!0},onDragStart:function(e,a,t){$(a.el[0]).hasClass("tboxstatement")?(e.clone().insertAfter(e),state=l.STATEMENT.TBOX.DRAGGED):$(a.el[0]).hasClass("groupstatement")&&($(".statement--handle",e).addClass("disable"),$(".startexpression",e).first().sortable("disable"),state=l.STATEMENT.GROUP.DRAGGED),$(".cd-side-navigation").addClass("temp-disabled"),t(e,a)},onDrop:function(e,a,t){state==l.STATEMENT.TBOX.DRAGGED?a&&$(a.el[0]).hasClass("groupstatement")&&r(e):state==l.STATEMENT.GROUP.DRAGGED&&($(".statement--handle",e).removeClass("disable"),$(".startexpression",e).first().sortable("enable")),state=l.IDDLE,$(".cd-side-navigation").removeClass("temp-disabled"),$(".cd-side-navigation").children("ul").children("li").removeClass("hover"),e.removeClass("dragged").removeAttr("style"),$("body").removeClass("dragging")},isValidTarget:function(e,a){return!(state!=l.STATEMENT.TBOX.DRAGGED&&state!=l.STATEMENT.GROUP.DRAGGED||!$(a.el[0]).hasClass("groupstatement"))},onCancel:function(e,a,t,n){$(a.el[0]).hasClass("tboxstatement")&&e.remove()}},u={nested:!0,group:"groupstatement"+i},g={inertia:!1,autoScroll:!1,onmove:function(e){var a=e.target,t=(parseFloat(a.getAttribute("data-x"))||0)+e.dx,n=(parseFloat(a.getAttribute("data-y"))||0)+e.dy;a.style.webkitTransform=a.style.transform="translate("+t+"px, "+n+"px)",a.setAttribute("data-x",t),a.setAttribute("data-y",n)}},m=!1,A={overlap:"center",ondropactivate:function(e){e.target.classList.add("drop-active")},ondragenter:function(e){$draggableElement=$(e.relatedTarget),$dropzoneElement=$(e.target);$draggableElement.data("token").split("-")[0],$dropzoneElement.data("token").split("-")[0];m?$dropzoneElement.addClass("wrong-placeholder"):$dropzoneElement.addClass("placeholder")},ondragleave:function(e){e.target.classList.remove("placeholder"),e.target.classList.remove("wrong-placeholder"),m=!1},ondropdeactivate:function(e){e.target.classList.remove("drop-active"),e.target.classList.remove("drop-target"),m=!1},checker:function(e,a,t,n,r,i,s){if(t){$dropElement=$(r),$draggableElement=$(s);var o=c[$draggableElement.data("token").split("-").pop()],l=p[$draggableElement.data("token").split("-")[0]],d=p[$dropElement.data("token").split("-")[0]];if(l==d&&o==c.OPERATION&&$dropElement.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-CONSTANT)$/gi)||l==d&&o==c.VARIABLE&&($dropElement.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-CONSTANT)$/gi)||$dropElement.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-(VARIABLE|ARRAY))$/gi))||o==c.OPERATION&&$dropElement.data("token").match(/^(STRING\-CONSTANT)$/gi)||o==c.VARIABLE&&$dropElement.data("token").match(/^(STRING\-CONSTANT)$/gi)||(o==c.VARIABLE||o==c.OPERATION)&&$dropElement.data("token").match(/^(ANY\-CONSTANT)$/gi)||o==c.VARIABLE&&$dropElement.data("token").match(/^(ANY\-VARIABLE)$/gi))return!0;if(l!=d&&o==c.OPERATION&&$dropElement.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-CONSTANT)$/gi)||l!=d&&o==c.VARIABLE&&($dropElement.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-CONSTANT)$/gi)||$dropElement.data("token").match(/^((INTEGER|REAL|LOGICAL|STRING)\-(VARIABLE|ARRAY))$/gi)))return m=!0,!0}}},R=$.extend({onstart:function(e){var a=$(e.target);a.data("token");a.parent().parent().parent().parent().removeClass("hover"),$(".cd-side-navigation").addClass("temp-disabled"),a.clone().insertAfter(a),a.addClass("dragged")},onend:function(e){$(".cd-side-navigation").removeClass("temp-disabled"),$(".cd-side-navigation").children("ul").children("li").removeClass("hover"),$(e.target).remove()}},g),f=$.extend({onstart:function(e){var a=$(e.target),t=(a.data("token"),a.parent("ol").data("roottoken"));if("RELATIONAL-BINARY-OPERATION"==a.parent().parent().data("token")){var n=$(a.siblings("li.expr.exprdefault")[0]).data("token");r($("<li/>",{"data-token":n,"data-arg_type":n.split("-")[0]}).insertAfter(a))}else r($("<li/>",{"data-token":t,"data-arg_type":t.split("-")[0]}).insertAfter(a));a.addClass("dragged"),a.data("arg_type",t.split("-")[0].toLowerCase())},ondragmove:function(e){console.log("aaa")},onend:function(e){$(e.target).remove()}},g),b=$.extend({accept:".tboxexpression > li, .groupexpression > li",ondrop:function(e){if(m)return!1;var a=$(e.relatedTarget),t=$(e.target);if("RELATIONAL-BINARY-OPERATION"==t.parent().parent().data("token")){var n=a.data("token").split("-")[0],i=$(t.siblings("li.expr.exprdefault")[0]);i.data({token:n+"-CONSTANT",arg_type:n}),r(i)}a.parent().hasClass("groupexpression")?t.replaceWith(a.clone().removeAttr("data-arg_arity data-arg_type data-x data-y style").removeClass("dragged")):($.each(a.data(),function(e,a){t.data(e,a)}),r(t))}},A);o.default(),e=$(".tboxstatement"),a=$(".startprogram"),t=$(".tboxexpression"),$(e).sortable(d),$(a).sortable(u),$(".tboxexpression > li").on("mousedown",function(e){var a=$(this),t=a.data("token");window.dd2.changeTab("PANDUAN",function(){window.dd2.changeOptionalPlaceholder("PANDUAN",' : <span class="badge">'+guides[t].name+"</span>"),window.dd2.spesificIndex("PANDUAN").tab("show")}),$("#output #guide_helper .code").removeClass("shown"),$("#output #guide_helper ."+t).addClass("shown")}),s.execute(new INIT_GUI(new GenerateDiagram,n,$(a))),interact(".tboxexpression > li",{context:$(t)}).draggable(R),interact(".groupexpression > li.drag-zone",{context:".groupexpression"}).draggable(f),interact(".groupexpression > li.drop-zone",{context:".groupexpression"}).dropzone(b)},c=function(e){if(e)try{n=e}catch(e){}};return{init:function(e){var a=JSON.parse(e);e&&a.hasOwnProperty("rawCode")&&a.rawCode.hasOwnProperty("declarations")&&a.rawCode.hasOwnProperty("main")&&(controlVariable.setCode(JSON.parse(e).rawCode.declarations.variable),controlArray.setCode(JSON.parse(e).rawCode.declarations.array),c(JSON.parse(e).rawCode.main)),i.init(),s.init(),l()},destruct:function(){$(".startprogram").empty()},destroy:function(){i.destroy(),s.destroy(),$(".startprogram").empty(),null!=r&&r.delete()}}}(),PageIntro=function(){var e=function(){function e(e,a,t,n){e.removeClass("selected from-left from-right").addClass("is-moving").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e.removeClass("is-moving")}),a.children("li").eq(n).addClass("selected from-right").prevAll().addClass("move-left"),i(e,a,n)}function a(e,a,t,n){e.removeClass("selected from-left from-right").addClass("is-moving").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e.removeClass("is-moving")}),a.children("li").eq(n).addClass("selected from-left").removeClass("move-left").nextAll().removeClass("move-left"),i(e,a,n)}function t(e,a){e.find(".selected").removeClass("selected"),e.find("li").eq(a).addClass("selected")}function n(e,a,t){e.hasClass("autoplay")&&(clearInterval(l),l=window.setInterval(function(){r(a)},t))}function r(n){g<n-1?(e(o.find(".selected"),o,p,g+1),g+=1):(a(o.find(".selected"),o,p,0),g=0),s(d,g+1),t(p,g)}function i(e,a,t){var n=e.find("video");n.length>0&&n.get(0).pause();var r=a.children("li").eq(t).find("video");r.length>0&&r.get(0).play()}function s(e,a){e.removeClassPrefix("item").addClass("item-"+a)}var o=$(".cd-hero-slider");if(o.length>0){var l,c=$(".cd-primary-nav"),p=$(".cd-slider-nav"),d=$(".cd-marker"),u=o.children("li").length,g=0;!function(e){e.find(".cd-bg-video-wrapper").each(function(){var e=$(this);if(e.is(":visible")){var a=e.data("video"),t=$('<video loop><source src="'+a+'.mp4" type="video/mp4" /><source src="'+a+'.webm" type="video/webm" /></video>');t.appendTo(e),e.parent(".cd-bg-video.selected").length>0&&t.get(0).play()}})}(o),n(o,u,7e3),c.on("click",function(e){$(e.target).is(".cd-primary-nav")&&$(this).children("ul").toggleClass("is-visible")}),p.on("click","li",function(r){r.preventDefault();var i=$(this);if(!i.hasClass("selected")){var l=i.index();o.find("li.selected").index()<l?e(o.find(".selected"),o,p,l):a(o.find(".selected"),o,p,l),g=l,t(p,l),s(d,l+1),n(o,u,7e3)}})}$.fn.removeClassPrefix=function(e){return this.each(function(a,t){var n=t.className.split(" ").filter(function(a){return 0!==a.lastIndexOf(e,0)});t.className=$.trim(n.join(" "))}),this}};return{init:function(){e()}}}(),PageProgram=function(){var e=function(){$("#datatable_projectlist").dataTable({fnDrawCallback:a})},a=function(){function e(e){var a=event.pageX-t.offset().left,r=event.pageY-t.offset().top;n.css({left:a+"px",top:r+"px"}),n.data("id",e),t.append(n),n.addClass("active")}function a(){n.remove()}var t=$("#datatable_projectlist_wrapper"),n=$('<ul class="context-menu"><li><a href="#" class="icon-fa-open context-open">Buka program</a></li><li><a href="#" class="icon-fa-download context-backup">Simpan ke media penyimpanan</a></li><li><a href="#" class="icon-fa-new context-new">Buat program baru</a><li class="divider"></li><li><a href="#" class="icon-fa-trash context-delete">Hapus</a></li></ul>');t.bind("click",function(){a()}),$(t).on("click","a.context-new",function(e){$(this).parents(".context-menu").first().data("id");return window.changeUrl("new"),!1}),$(t).on("click","a.context-open",function(e){var a=$(this).parents(".context-menu").first().data("id");return window.changeUrl("project/"+a),!1}),$(t).on("click","a.context-delete",function(e){var a=$(this).parents(".context-menu").first().data("id");return window.changeUrl("delete/"+a),!1}),$(t).on("click","a.context-backup",function(e){var a=$(this).parents(".context-menu").first().data("id");return window.changeUrl("export/"+a),!1}),$("tbody tr",t).bind("click contextmenu",function(){$(this).hasClass("info")?$(this).removeClass("info"):($("tr.info",t).removeClass("info"),$(this).addClass("info"))}),$("tbody tr",t).bind("dblclick",function(){window.changeUrl("project/"+$(this).data("id"))}),$("tbody tr",t).bind("contextmenu",function(a){return $(this).hasClass("info")||$(this).addClass("info"),e($(this).data("id")),!1})};return{init:function(){e()}}}();